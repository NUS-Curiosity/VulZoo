
Date: Mon, 9 Oct 2017 10:09:37 -0700
From: Patrick Hunt <phunt@...che.org>
To: DevZooKeeper <dev@...keeper.apache.org>, UserZooKeeper <user@...keeper.apache.org>, 
	announce@...che.org, security <security@...che.org>, security@...keeper.apache.org, 
	oss-security@...ts.openwall.com
Subject: [SECURITY] CVE-2017-5637: DOS attack on wchp/wchc four letter words (4lw)

CVE-2017-5637: DOS attack on wchp/wchc four letter words (4lw)

Severity: moderate
Vendor:
The Apache Software Foundation
Versions Affected:
ZooKeeper 3.4.0 to 3.4.9
ZooKeeper 3.5.0 to 3.5.2
The unsupported ZooKeeper 1.x through 3.3.x versions may be also affected
Note: The 3.5 branch is still beta at this time.

Description:
Two four letter word commands “wchp/wchc” are CPU intensive and could cause
spike of CPU utilization on ZooKeeper server if abused,
which leads to the server unable to serve legitimate client requests. There
is no known compromise which takes advantage of this vulnerability.

Mitigation:
This affects ZooKeeper ensembles whose client port is publicly accessible,
so it is recommended to protect ZooKeeper ensemble with firewall.
Documentation has also been updated to clarify on this point. In addition,
a patch (ZOOKEEPER-2693) is provided to disable "wchp/wchc” commands
by default.
- ZooKeeper 3.4.x users should upgrade to 3.4.10 or apply the patch.
- ZooKeeper 3.5.x users should upgrade to 3.5.3 or apply the patch.

References
[1] https://issues.apache.org/jira/browse/ZOOKEEPER-2693

