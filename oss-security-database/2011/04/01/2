
Date: Fri, 1 Apr 2011 14:37:24 +0200
From: Ludwig Nussel <ludwig.nussel@...e.de>
To: oss-security@...ts.openwall.com
Subject: Re: Suid mount helpers fail to anticipate RLIMIT_FSIZE

Patrick J. Volkerding wrote:
> On 03/31/2011 08:43 AM, Dan Rosenberg wrote:
> > I'd also
> > like to see distributions migrating away from /etc/mtab in general,
> > since /proc/mounts seems like a much better replacement.
> 
> I imagine that mount's -f (fake mount by editing mtab) and -n (mount 
> without editing mtab) options are not going to work if /etc/mtab becomes 
> a symbolic link to /proc/mounts, so that's liable to break a few things. 
>   In the long run it does seem like a good plan, but there might be a 
> few bumps in the road.  I wonder what the rationale was for faking mtab 
> mounts in the first place?

Our system boot scripts used -n as long as / was mounted read only
and -f to update mtab once / was remounted rw.
Since openSUSE 11.4 /etc/mtab is a symlink to /proc/self/mounts
which works fine so far AFAIK.

cu
Ludwig

-- 
 (o_   Ludwig Nussel
 //\
 V_/_  http://www.suse.de/
SUSE LINUX Products GmbH, GF: Markus Rex, HRB 16746 (AG Nuernberg)
