
Date: Wed, 04 Jun 2008 14:49:47 -0400
From: Nathanael Hoyle <nhoyle@...letech.com>
To: oss-security@...ts.openwall.com
Subject: Re: OpenSSH key blacklisting

The Fungi wrote:
> On Wed, Jun 04, 2008 at 11:14:12AM -0400, Nathanael Hoyle wrote:
> [...]
>> However, the reason debian got into the mess they did in the first
>> place with this was specifically because they were trying to
>> remove responsibility from the can't-be-bothered users for
>> configuration. At one point, nearly all ssh key generation systems
>> required the user the type keys 'at random' on the keyboard,
>> and/or to move the mouse to generate an entropy pool for a seed
>> value for key generation. Because debian performs key-generation
>> on first boot in most cases, that early in the startup there might
>> not be sufficient entropy in the network traffic for utility. I
>> guess they found that users were either incapable of or
>> disinclined to participate in the key generation process.
> [...]
> 
> Not to be argumentative, but have you installed OpenBSD lately
> (effectively the reference platform for OpenSSH development)? For
> years, its base install has run sshd by default, generated host keys
> at first boot, and not prompted at the console for human interaction
> to augment entropy for this process. I find it hard to blame this
> *particular* behavior on Debian (unless you're suggesting that they
> strong-armed OpenSSH upstream to integrate these changes on their
> behalf?).

It's been about two years since I have installed OpenBSD.  I do not know
what entropy pool source OpenBSD uses for initial key generation.  It
was my understanding that the recently disclosed/discussed issue
involved a Debian-specific (and their downstreams, like Ubuntu) decision
to utilize the PID of the keygen process to seed the key generation,
severely limiting the effective keyspace.  If I completely misunderstood
this, my apologies to Debian.  It was not so much that I was saying that
eliminating user interaction was a bad thing (as I think most users
can't be bothered to set up a secure system), but that requiring user
interaction to set up validation may be a poor choice (as in the case of
requiring them to set key authority/revocation servers as the other
poster suggested).

-Nathanael
