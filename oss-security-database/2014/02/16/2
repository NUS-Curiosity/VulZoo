
Date: Sun, 16 Feb 2014 14:26:49 +0100
From: Helmut Grohne <helmut@...divi.de>
To: oss-security@...ts.openwall.com
Cc: 738855@...s.debian.org
Subject: Re: Re: Bug#738855: initscripts: Skip killing
 root-owned process starting with @

On Sat, Feb 15, 2014 at 05:22:15PM +0100, Florian Weimer wrote:
> * Helmut Grohne:
> 
> > In this context allowing user processes to not be killed merely by
> > changing their name could cause data loss during shutdown by
> > blocking umount.
> 
> Does that actually work?  If so, it's a funcitonality bug that should
> be fixed.

Usually, user processes are killed by sendsigs and that is why they
cannot block umount. For instance, if a processes ends up being
unkillable (e.g. due to a kernel oops), you can experience data loss
(been there, done that). What is new here is that systemd proposed a
generic exemption mechanism for processes with effective UID 0.

Judging from the responses received so far, I think that the consensus
is that effective UID 0 should be considered fully privileged no matter
how restricted such a process is. That is a perfectly fine choice
(especially in the presence of user namespaces), but we'll have to keep
it in mind when looking at other system components that may violate this
assumption (e.g. SELinux, Linux capabilities).

I conclude that the implementation in systemd is not considered
vulnerable.

Helmut
