
Date: Wed, 03 Mar 2010 17:45:10 +0800
From: Eugene Teo <eugeneteo@...nel.sg>
To: oss-security@...ts.openwall.com
CC: "Steven M. Christey" <coley@...us.mitre.org>
Subject: CVE request: kernel: NFS: Fix an Oops when truncating a file

"The VM/VFS does not allow mapping->a_ops->invalidatepage() to fail.
Unfortunately, nfs_wb_page_cancel() may fail if a fatal signal occurs. 
Since the NFS code assumes that the page stays mapped for as long as the 
writeback is active, we can end up Oopsing (among other things).

The only safe fix here is to convert nfs_wait_on_request(), so as to 
make it uninterruptible (as is already the case with 
wait_on_page_writeback())."

Upstream commit:
http://git.kernel.org/linus/9f557cd8073104b39528794d44e129331ded649f

Reference:
https://bugzilla.redhat.com/show_bug.cgi?id=567184
