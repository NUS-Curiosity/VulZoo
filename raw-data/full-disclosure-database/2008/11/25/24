
Date: Tue, 25 Nov 2008 15:06:35 -0600
From: Kurt Grutzmacher <grutz@...gojango.net>
To: full-disclosure@...ts.grok.org.uk
Subject: Re: Microsoft takes 7 years to 'solve' a	problem?!

On Tue, Nov 25, 2008 at 11:15:43AM -0500, Charles Morris wrote:
> In reality, every machine I've ever built here at ODU (production
> included) has had NTLM turned off.
> 
> No complaints yet.

May I ask how you were able to force the clients to no longer perform
NTLM authentication? Or servers for that matter? Is there a hidden KB
article or registry setting you can share? Are you sure it's not just
disabling LMv1/NTLMv1 protocols?

It's not that I doubt you but I've not found a thing yet and since I
feel my Squirtle tool was one of the driving forces for Microsoft finally
putting out MS08-068 I've been looking pretty hard.

The fact is MS08-068 is only a partial fix. The NTLM protocol is broken
and even signing/sealing will not protect an enterprise from Relay
attacks. MS knew this when Win2K came out, that's why they pushed
migrating to their Kerberos implementation as soon as possible. They
still required backwards compatibility so SPENGO is still performed to
negotiate a common communication format. As long as base NTLM is still
permitted in SPENGO then Relay attacks will always work.

Squirtle (http://squirtle.googlecode.com/) takes a lot of the hassle out
of trying to wrangle clients to perform NTLM Relay attacks. In the past
it's always been a "one-shot" sort of attack, you had to set up all the
dominos before pulling the trigger.

-- 
                 ..:[ grutz at jingojango dot net ]:..
     GPG fingerprint: 5FD6 A27D 63DB 3319 140F  B3FB EC95 2A03 8CB3 ECB4
	"There's just no amusing way to say, 'I have a CISSP'."

Content of type "application/pgp-signature" skipped

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.grok.org.uk/full-disclosure-charter.html
Hosted and sponsored by Secunia - http://secunia.com/
