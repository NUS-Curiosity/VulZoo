
Date: Thu, 2 Aug 2012 07:47:41 +1000
From: Dave Airlie <airlied@...il.com>
To: kai@...nn.net
Cc: full-disclosure@...ts.grok.org.uk
Subject: Re: nvidia linux binary driver priv escalation
	exploit

>
> what is your system? it doesn't work for my opensuse 12.1 (kernel
> 3.1.10-1.9-desktop, arch x86_64) with nvidia driver version 295.20.
> maybe this will give you some more info (i'm not goot at C at all), here is
> the output (i've commented 'if (getuid()) {' stuff and dump_gate function):

Yeah its not perfect, I've had reports of it working on some systems
and not on others, it may be that some OS security mechanisms make the
exploit less potent, however thats is more to do with fixing the
payload part of the exploit than the bit that exercises the GPU side.
The PoC just shows you can read/write to arbitrary memory, once you
can do that rewriting the payload bit should be possible.

>> * Only complete fix patch nvidia drivers and redefine
>> * IS_BLACKLISTED_REG_OFFSET:
>
>
> i've extracted all files from driver installer
> (NVIDIA-Linux-x86_64-295.20.run), and grepped that IS_BLACKLISTED_REG_OFFSET
> in all files recursively (* -R -l) - nothing found. maybe it's for nouveau
> driver?

No I think they added this in response to a previous security issue,
but i don't have an installed nvidia driver near me now to see exactly
what needs changing.

Dave.

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.grok.org.uk/full-disclosure-charter.html
Hosted and sponsored by Secunia - http://secunia.com/
