
Date: Mon, 3 Dec 2012 08:51:35 +0100
From: Sergei Golubchik <serg@...monty.org>
To: oss-security@...ts.openwall.com
Cc: king cope <isowarez.isowarez.isowarez@...glemail.com>,
	Ritwik Ghoshal <ritwik.ghoshal@...cle.com>,
	todd@...ketstormsecurity.org, security@...ql.com,
	security@...iadb.org, full-disclosure@...ts.grok.org.uk,
	bugtraq@...urityfocus.com, moderators@...db.org,
	submit@...sec.com, Steven Christey <coley@...re.org>,
	Mitre CVE assign department <cve-assign@...re.org>
Subject: Re: [oss-security] Re: MySQL (Linux) Stack based
 buffer overrun PoC Zeroday

Hi, king cope!

On Dec 02, king cope wrote:
> Hi,
> My opinion is that the FILE to admin privilege elevation should be
> patched.  What is the reason to have FILE and ADMIN privileges
> seperated when with this exploit FILE privileges equate to ALL ADMIN
> privileges.
> I understand that it's insecure to have FILE privileges attached to a
> user.  But if this a configuration issue and not a vulnerability then
> as stated above there must be something wrong with the privilege
> management in this SQL server.

You've missed that part of my reply:

> > Additionally, MySQL (and MariaDB) provides a --secure-file-priv
> > option that allows to restrict all FILE operations to a specific
> > directory.

Normally, if a DBA wants to grant FILE privilege to users, the server
will have something like secure-file-priv=/tmp/mysql (for example)
specified in the configuration file. This way any operation allowed by
the FILE privilege (like SELECT ... OUTFILE) will only be able to access
files under the /tmp/mysql/ path.

Regards,
Sergei

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.grok.org.uk/full-disclosure-charter.html
Hosted and sponsored by Secunia - http://secunia.com/
