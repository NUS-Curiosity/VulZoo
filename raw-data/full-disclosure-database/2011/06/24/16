
Date: Fri, 24 Jun 2011 16:02:34 +0000
From: halfdog <me@...fdog.net>
To: Christian Sciberras <uuf6429@...il.com>
Cc: full-disclosure@...ts.grok.org.uk
Subject: Re: FYI: Apache httpd NoFollowSymLink follows
 symlinks feature

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Christian Sciberras wrote:
> I think you meant "apache follows symlinks even when -FollowSymLinks 
> is *not* set". Otherwise it doesn't seem to make sense?

No. Unless I made a mistake while testing AND misunderstood the
documentation, even with -FollowSymLinks set, apache will follow
symlinks (see POC). You might want to read the last line in section
"FollowSymlink" in

http://httpd.apache.org/docs/2.2/mod/core.html#options

I, for myself, made the same assumption about -FollowSymLink, but the
specification states, that the symlink-check is not race-free.

> On Fri, Jun 24, 2011 at 5:14 PM, halfdog <me@...fdog.net 
> <mailto:me@...fdog.net>> wrote:
> 
> For those, who did not already know:
> 
> Due to specification, apache follows symlinks even when 
> -FollowSymLinks is set, when the data is modified concurrently. This 
> can be trivially shown as demonstrated in 
> http://www.halfdog.net/Security/2011/ApacheNoFollowSymlinkTimerace/ .
> When performing host hardening, do not think, the -FollowSymLinks 
> option alone will prevent you from symlink attacks.
> 
> 
> _______________________________________________ Full-Disclosure - We 
> believe in it. Charter: 
> http://lists.grok.org.uk/full-disclosure-charter.html Hosted and 
> sponsored by Secunia - http://secunia.com/
> 
> 

- -- 
http://www.halfdog.net/
PGP: 156A AE98 B91F 0114 FE88  2BD8 C459 9386 feed a bee
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFOBLUWxFmThv7tq+4RAtS5AJ9mZN4MxHZSqSDUmbAXZXboj63d6ACfbUrZ
6zO2slfjjl2Motme3y+Affo=
=1CyN
-----END PGP SIGNATURE-----

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.grok.org.uk/full-disclosure-charter.html
Hosted and sponsored by Secunia - http://secunia.com/
