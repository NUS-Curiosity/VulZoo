
Date: Tue, 25 Jan 2022 15:47:17 +0100
From: Jean-Baptiste Onofr√© <jbonofre@...che.org>
To: announce@...che.org, user@...af.apache.org, dev@...af.apache.org, 
	security@...che.org, oss-security@...ts.openwall.com, Daniel.Heyne@....de
Subject: [SECURITY] New security advisory for CVE-2021-41766 released for
 Apache Karaf

A new security advisory has been released for Apache Karaf, which was
fixed in the recent 4.3.6 runtime release.

CVE-2021-41766: Insecure Java Deserialization in Apache Karaf

Severity: Low

Vendor: The Apache Software Foundation

Versions Affected: all versions of Apache Karaf prior to 4.3.6

Description:

Apache Karaf allows monitoring of applications and the Java runtime by
using the Java Management Extensions (JMX).
JMX is a Java RMI based technology that relies on Java serialized
objects for client server communication.
Whereas the default JMX implementation is hardened against
unauthenticated deserialization attacks, the implementation
used by Apache Karaf is not protected against this kind of attack.

The impact of Java deserialization vulnerabilities strongly depends
on the classes that are available within the targets
class path.
Generally speaking, deserialization of untrusted data does always
represent a high security risk and should be prevented.

The risk is low as, by default, Karaf uses a limited set of classes in
the JMX server class path.
It depends of system scoped classes (e.g. jar in the lib folder).

This has been fixed in revision:

https://gitbox.apache.org/repos/asf?p=karaf.git;h=b42c82c
https://gitbox.apache.org/repos/asf?p=karaf.git;h=93a019c

Mitigation: Apache Karaf users should upgrade to 4.3.6
or later as soon as possible, or disable remote access to JMX server.

JIRA Tickets: https://issues.apache.org/jira/browse/KARAF-7312

Credit: This issue was reported by Daniel Heyne, Konstantin Samuel and Tobias
Neitzel
