
Date: Wed, 5 Jun 2013 16:16:15 +0200
From: Petr Matousek <pmatouse@...hat.com>
To: Peter Zijlstra <peterz@...radead.org>, Andi Kleen <ak@...ux.jf.intel.com>
Cc: Marcus Meissner <meissner@...e.de>, eranian@...gle.com,
        security@...nel.org, oss-security@...ts.openwall.com
Subject: Re: Re: CVE Request: More perf security fixes

Andi, Peter.

On Wed, Jun 05, 2013 at 10:23:02AM +0200, Peter Zijlstra wrote:
> On Tue, Jun 04, 2013 at 10:59:33AM -0700, Andi Kleen wrote:
> > > 3. Information leak (??) via perf LBR filter 
> > 
> > Leak + crash actually.

Was the leak supposed to be addressed via
7cc23cd6c0c7d7f4bee057607e7ce01568925717 (and thus was never there)?

Or how was the fix below supposed to fix the info leak?

> > 
> > > 
> > > https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=6e15eb3ba6c0249c9e8c783517d131b47db995ca
> > > 
> > > commit 6e15eb3ba6c0249c9e8c783517d131b47db995ca
> > > Author: Peter Zijlstra <a.p.zijlstra@...llo.nl>
> > > Date:   Fri May 3 14:11:24 2013 +0200
> > > 
> > >     perf/x86/intel/lbr: Fix LBR filter
> > >     
> > >     The LBR 'from' adddress is under full userspace control; ensure
> > >     we validate it before reading from it.
> > 
> > This patch is known broken and causes additional crashes.
> > There's no updated patch for that so far.
> 
> And yet there's no crash report in my inbox.. how kind you you andi.
> 
> And I know you don't agree with the patch, but since you're too lazy to
> provide a better one I didn't think you minded _that_ much :-)

Thanks,
-- 
Petr Matousek / Red Hat Security Response Team
