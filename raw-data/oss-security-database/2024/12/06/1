
Message-ID: <008f1936-17ff-4ce5-b16b-529ad7866d1e@oracle.com>
Date: Fri, 6 Dec 2024 09:12:39 -0800
From: Alan Coopersmith <alan.coopersmith@...cle.com>
To: oss-security@...ts.openwall.com
Subject: Fwd: [Security-announce][CVE-2024-12254] Unbounded memory buffering
 in SelectorSocketTransport.writelines()




-------- Forwarded Message --------
Subject: 	[Security-announce][CVE-2024-12254] Unbounded memory buffering in 
SelectorSocketTransport.writelines()
Date: 	Fri, 6 Dec 2024 09:15:28 -0600
From: 	Seth Larson <seth@...hon.org>
Reply-To: 	security-sig@...hon.org
To: 	security-announce@...hon.org



There is a HIGH severity vulnerability affecting CPython.

Starting in Python 3.12.0, the asyncio._SelectorSocketTransport.writelines() 
method would not "pause" writing and signal to the Protocol to drain the buffer 
to the wire once the write buffer reached the "high-water mark". Because of 
this, Protocols would not periodically drain the write buffer potentially 
leading to memory exhaustion.

This vulnerability likely impacts a small number of users, you must be using 
Python 3.12.0 or later, on macOS or Linux, using the asyncio module with 
protocols, and using .writelines() method which had new zero-copy-on-write 
behavior in Python 3.12.0 and later. If not all of these factors are true then 
your usage of Python is unaffected.

Please see the linked CVE ID for the latest information on affected versions:

* https://www.cve.org/CVERecord?id=CVE-2024-12254 
<https://www.cve.org/CVERecord?id=CVE-2024-12254>
* https://github.com/python/cpython/pull/127656 
<https://github.com/python/cpython/pull/127656>

View attachment "Attached Message Part" of type "text/plain" (292 bytes)
