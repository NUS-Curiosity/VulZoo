
Date: Fri, 11 Nov 2011 13:27:13 -0500
From: Marc Deslauriers <marc.deslauriers@...onical.com>
To: oss-security@...ts.openwall.com
Subject: Re: Re: [LightDM] Version 1.0.6 released

On Fri, 2011-11-11 at 10:05 +0000, John Haxby wrote:
> On 11/11/11 08:06, Guido Berhoerster wrote:
> > Replacing the file between the lstat and the open would change
> > its inode and then be caught by the check before the fchown, no?
> 
> Nope.   There is no reason why the same inode should not be reused.
> 
> On ext4 (btrfs seems to be different):
> 
> $ touch test; ls -i test; rm test; touch test; ls -i test
> 656078 test
> 656078 test
> 
> jch

How about the attached patch?

Marc.




View attachment "04_CVE-2011-4105.patch" of type "text/x-patch" (1512 bytes)
