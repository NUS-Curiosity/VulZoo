
Date: Fri, 8 Aug 2014 22:50:59 +0400
From: gremlin@...mlin.ru
To: oss-security@...ts.openwall.com
Subject: Re: BadUSB discussion

On 08-Aug-2014 22:27:16 +0400, (GalaxyMaster) wrote:

 > Alexey,

Aye, Dmitry? :-)

 >>> That doesn't prevent any other USB HID device from being plugged
 >>> in and instantly working. Which again, you can prevent if you
 >>> want to, but no one seems to do that...
 >> Hmmm... To avoid possible confusion: that was CONFIG_USB_KBD -
 >> "USB HIDBP Keyboard (simple Boot) support", and CONFIG_USB_HID
 >> was turned off.
 > I think Greg was referring to kernel's feature of controlling
 > power on USB ports (e.g. you can just switch of power for a port
 > and nothing you insert there will have a chance to work until
 > you instruct the kernel to switch the port back on).

That may be good for servers, but almost unusable on worstations:
people tend to charge mobile devices while they work.

Personally I'd like to be able to shorten D+ and D- lines for all
unused ports and keep them in "charge-only" state. However, that'll
require disconnecting them from the socket to get this scheme:

Host                       Device

VCC    ----------------    VCC

D-     ---+        +---    D-
          |        |
D+     ---+        +---    D+

GND    ----------------    GND

It is possible, but adding even a single component to a system
board causes a marketoids' butthurt.

 >> Bus 002 Device 064: ID 046d:c016 Logitech, Inc. Optical Wheel
 >> Mouse
 >> Device IDs tell us the hub was reset several times :-)
 > ... or somebody insanely was plugging mouse in and out in a
 > cycle :)

That device wasn't a mouse, but I really appreciate your idea :-)


-- 
Alexey V. Vissarionov aka Gremlin from Kremlin <gremlin ПРИ gremlin ТЧК ru>
GPG: 8832FE9FA791F7968AC96E4E909DAC45EF3B1FA8 @ hkp://keys.gnupg.net
