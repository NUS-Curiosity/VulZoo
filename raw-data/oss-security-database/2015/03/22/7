
Date: Sat, 21 Mar 2015 23:16:01 -0400
From: Daniel Micay <danielmicay@...il.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE for Kali Linux

On 21/03/15 10:27 PM, Kurt Seifried wrote:
> On 03/21/2015 08:04 PM, Justin Steven wrote:
>> Kali, like its upstream (Debian), signs packages using gpg.
>>
>> https://wiki.debian.org/SecureApt
>>
>> Kali provides sha1sums over https at their site to verify the .iso
>> download, as well as providing gpg signatures for .iso files
>>
>> --
>> Justin
> 
> So I guess we enter uncharted territory here. So my thought is this:
> 
> Vendor has front page that recommends doing something completely insane
> and insecure (http/md5s/etc.). On the back end (good lucking finding
> this) vendor does something sort of secure (gpg signing of packages, no
> clue if key distribution is secure) but this is not really documented well.
> 
> Does this win a CVE or not? I personally think yes, yes it does.
> 
> Mitre as always is the final arbiter of what is cool. I mean what is a CVE.

Fedora and Kali both provide their ISO download via HTTP.

Fedora asks the user to validate the download via a signed SHA256 hash
file obtaining via HTTPS. Kali asks the user to validate the download
via a signed SHA1 hash file obtained via HTTPS (that blurb on the front
page is out-of-date, there are no MD5 sums)

I don't think the difference between SHA1 and SHA256 is very important
right now, so the only significant difference is that Fedora has the
HTTPS domain in browser HSTS preload lists.

It would be much better to provide the download via HTTPS from a domain
that's HSTS preloaded and ideally has some level of key pinning. We are
all well aware that few users are going to go through a manual process
on the command-line to verify the download, especially if they're on
Windows as they won't have the commands that are being used.


Download attachment "signature.asc" of type "application/pgp-signature" (820 bytes)
