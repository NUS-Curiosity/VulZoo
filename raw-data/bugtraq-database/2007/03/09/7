
Date: 9 Mar 2007 13:01:13 -0000
From: hugo@...ohacking.com
To: bugtraq@...urityfocus.com
Subject: Re: Digital Armaments Security Advisory 20.01.2007: Grsecurity
 Kernel PaX Vulnerability

Hi,

quoting grsec developer: "Using the RBAC system's PaX flag support to enforce system-wide MPROTECT enabling could have prevented triggering of the bug, since it requires the creation of an executable stack to trigger the vma mirroring bug."

I 've tested the exploit on 2.6 kernel in an Alpha platform with MPROTECT RBAC protection activated -wich is our default setting :-)- and it doesn't work...

hugo@...ha ~ $ ./xploit
mprotect map1 base: Permission denied
run chpax -m on this executable

Moreover, even without MPROTECT activated it is important to remenber that OS security must never rely on a single layer... a well-configured Grsec system will render very difficult to exploit it -nor at least with a direct vector-. On Grsec case, there are some configurations can help prevent/difficult the exploitation: aggressive TPE (Trusted Path Execution) configuration + tight RBAC policy + Network Protections will make a pain to exploit this, even locally.

Regards,     
