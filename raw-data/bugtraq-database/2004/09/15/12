
Date: Wed, 15 Sep 2004 14:25:42 +0200
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2004.040] OpenPKG Security Advisory (samba)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2004.040                                          15-Sep-2004
________________________________________________________________________

Package:             samba
Vulnerability:       denial of service
OpenPKG Specific:    no

Affected Releases:   Affected Packages:       Corrected Packages:
OpenPKG CURRENT      <= samba-3.0.6-20040820  >= samba-3.0.7-20040913
OpenPKG 2.1          <= samba-3.0.4-2.1.1     >= samba-3.0.4-2.1.2
OpenPKG 2.0          N.A.                     N.A.

Dependent Packages:  none

Description:
  According to a security advisory [1] from the Samba team and two
  corresponding security advisories [2][3] from iDEFENSE, two Denial of
  Service (DoS) vulnerabilities exists in the Samba SMB/CIFS server [0].
  The first DoS bug is in smbd(8) and may allow an unauthenticated user
  to cause smbd(8) to spawn new processes, each one entering an infinite
  loop. After sending a sufficient amount of packets it is possible to
  exhaust the memory resources on the server. The second DoS bug in
  nmbd(8) may allow an attacker to remotely crash the nmbd(8) daemon.
  The Common Vulnerabilities and Exposures (CVE) project assigned the
  ids CAN-2004-0807 [4] and CAN-2004-0808 [5] to the problems.

  Please check whether you are affected by running "<prefix>/bin/openpkg
  rpm -q samba". If you have the "samba" package installed and its
  version is affected (see above), we recommend that you immediately
  upgrade it (see Solution) [6][7].

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [8], fetch it from the OpenPKG FTP service [9] or a mirror location,
  verify its integrity [10], build a corresponding binary RPM from it
  [6] and update your OpenPKG installation by applying the binary RPM
  [7]. For the most recent release OpenPKG 2.1, perform the following
  operations to permanently fix the security problem (for other releases
  adjust accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/2.1/UPD
  ftp> get samba-3.0.4-2.1.2.src.rpm
  ftp> bye
  $ <prefix>/bin/openpkg rpm -v --checksig samba-3.0.4-2.1.2.src.rpm
  $ <prefix>/bin/openpkg rpm --rebuild samba-3.0.4-2.1.2.src.rpm
  $ su -
  # <prefix>/bin/openpkg rpm -Fvh <prefix>/RPM/PKG/samba-3.0.4-2.1.2.*.rpm
________________________________________________________________________

References:
  [0]  http://www.samba.org/
  [1]  http://us3.samba.org/samba/history/3.0_DOS_sept04_announce.txt
  [2]  http://www.idefense.com/application/poi/display?id=138
  [3]  http://www.idefense.com/application/poi/display?id=139
  [4]  http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0807
  [5]  http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0808
  [6]  http://www.openpkg.org/tutorial.html#regular-source
  [7]  http://www.openpkg.org/tutorial.html#regular-binary
  [8]  ftp://ftp.openpkg.org/release/2.1/UPD/samba-3.0.4-2.1.2.src.rpm
  [9]  ftp://ftp.openpkg.org/release/2.1/UPD/
  [10] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with the
OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F) of the
OpenPKG project which you can retrieve from http://pgp.openpkg.org and
hkp://pgp.openpkg.org. Follow the instructions on http://pgp.openpkg.org/
for details on how to verify the integrity of this advisory.
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQFBSDSngHWT4GPEy58RAo/gAJ9KAwEpj5Wo1yFnAyw91rNojZQjFgCfQVUJ
B3L6lz23T8ZxdT9vR+FmlnI=
=sqJA
-----END PGP SIGNATURE-----


