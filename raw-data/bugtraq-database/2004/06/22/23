
Date: Mon, 21 Jun 2004 23:42:06 -0400
From: infamous42md@...pop.com
To: bugtraq@...urityfocus.com
Subject: Re: exploiting overflowed kmalloc() memory?


On Fri, 18 Jun 2004 13:53:47 -0400
infamous41md@...pop.com wrote:

> 
> has anyone done any research on exploiting overflows with memory returned by kmalloc()?  after briefly looking at source, i see that internally it relies on the kmem_cache_alloc() functions.  i didn't see any sort of coalescing as with dlmalloc, so maybe it's not even possible?  anyone have any links/info about this? 
> 

	well i did a bit of research this weekend, here are my results: http://www.1nfamus.netfirms.com/Kmalloc_Internals.html . in short is nearly impossible to exploit in any reliable fashion. the control data is stored at lower addresses than the memory returned by kmalloc(), so you would need an underflow.  and even in that situation, you need some serious luck and need to perform some magic to restore the state u overwrite.

-- 
-sean



