
Date: Tue, 04 Jul 2006 20:18:37 +0200
From: Jaroslaw Sajko <sloik@...areal.net>
To: bugtraq@...urityfocus.com
Cc: xzerox@...uxmail.org
Subject: Re: WordPress 2.0.3 SQL Error and Full Path Disclosure


Dnia 02-07-2006, nie o godzinie 09:15 +0000, xzerox@...uxmail.org
napisaÅ‚(a):

> Example:
> 
> http://localhost/wordpress/index.php?paged=-1
> 
> Result:
> 
> WordPress database error: [Erreur de syntaxe pr?s de '-20, 10' ? la ligne 1]
> SELECT DISTINCT * FROM wp_posts WHERE 1=1 AND post_date_gmt <= '2006-06-29 12:46:59' AND (post_status = "publish") AND post_status != "attachment" GROUP BY wp_posts.ID ORDER BY post_date DESC LIMIT -20, 10

Put this line somewhere in the wp-settings.php file (for example at the
end of the code before the do_action(init) call):

$wpdb->hide_errors();


> 
> ~ Full path ~
> 
> /wp-settings.php
> /wp-admin/admin-footer.php
> /wp-admin/admin-functions.php
> /wp-admin/edit-form.php

in line 60 of wp-settings.php change to:

error_reporting(0);

Now the World is safe.

--
js




