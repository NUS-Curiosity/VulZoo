
Date: Mon, 13 Nov 2006 15:23:11 -0800
From: VMware Security team <security@...are.com>
To: bugtraq@...urityfocus.com, full-disclosure@...ts.grok.org.uk
Subject: VMSA-2006-0009 - VMware ESX Server 3.0.0 AMD fxsave/restore issue

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- - -------------------------------------------------------------------
                   VMware Security Advisory

Advisory ID:       VMSA-2006-0009
Synopsis:          VMware ESX Server 3.0.0 AMD fxsave/restore issue
Knowledge base URL:http://kb.vmware.com/kb/2533126
Issue date:        2006-10-31
Updated on:        2006-11-13
                   CVE-2006-1056
- - -------------------------------------------------------------------

1. Summary:

Updated package addresses an AMD fxsave/restore security vulnerability.

2. Relevant releases:

This patch is for ESX Server 3.0.0 only (with or without other patches
for ESX 3.0.0)

3. Problem description:

An AMD fxsave/restore security vulnerability. The instructions fxsave
and fxrstor on AMD CPUs are used to save or restore the FPU registers
(FOP, FIP and FDP). On AMD Opteron processors, these instructions do not
save/restore some exception related registers unless an exception is
currently being serviced. This could allow a local attacker to partially
monitor the execution path of FPU processes, possibly allowing them to
obtain sensitive information being passed through those processes.

The Common Vulnerabilities and Exposures project (cve.mitre.org)
assigned the name CVE-2006-1056 to this issue.

4. Solution:

   1.  Log into the ESX Server service console as root.
   2.  Create a local depot directory.

      # mkdir /var/updates
      Note: VMware recommends that you use the updates directory.

   3.  Change your working directory to /var/updates.

      # cd /var/updates

   4.  Download patch ESX-2533126 from http://www.vmware.com/download/vi/
       into the /var/updates directory.

   5.  Verify the integrity of the downloaded tar file:

      # md5sum ESX-2533126.tgz

   6.  The md5 checksum output should match the following:

      f34bd684a50a29d667bd0ea5c8c8ef63 ESX-2533126.tgz

   7.  Extract the compressed tar archive:

      # tar -xvzf ESX-2533126.tgz

   8.  Change to the newly created directory, /var/updates/ESX-2533126:

      # cd ESX-2533126

Installation Instructions

Once you have downloaded and extracted the archive, and if you are in
the directory you created above, install the update using the following
command:

# esxupdate update

For more information on using esxupdate, please refer to the Patch
Management for ESX Server 3 tech note at
http://www.vmware.com/pdf/esx3_esxupdate.pdf.

Note:  This security patch is part of the October 2006 patch release
for VI3.  A second (non-security) patch is also available.  Installation
of these two patches is independent and you do not need to install both
to be in a supported state.  The other patch is available at
http://kb.vmware.com/kb/2666943

5. References:

http://kb.vmware.com/kb/2533126
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1056
http://www.vmware.com/products/esx/
http://www.vmware.com/download/esx/

6. Contact:

http://www.vmware.com/security

VMware Security Response Policy
http://www.vmware.com/vmtn/technology/security/security_response.html

E-mail:  security@...are.com

Copyright 2006 VMware Inc. All rights reserved.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org

iD8DBQFFWP5d6KjQhy2pPmkRCAqgAKClk2Xhfxkv+HqPQ/e3fRSWuHiREQCfaedN
xh2SUOf0NcmTSAofrCdFINI=
=gaBi
-----END PGP SIGNATURE-----

View attachment "VMSA-2006-0009.txt.asc" of type "text/plain" (5476 bytes)
