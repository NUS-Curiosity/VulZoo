
Date: Tue, 8 Mar 2005 10:08:10 -0300
From: Conectiva Updates <secure@...ectiva.com.br>
To: conectiva-updates@...aleguas.conectiva.com.br, lwn@....net,
	bugtraq@...urityfocus.com, security-alerts@...uxsecurity.com,
	linsec@...ts.seifried.org
Subject: [CLA-2005:931] Conectiva Security Announcement - squid


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- --------------------------------------------------------------------------
CONECTIVA LINUX SECURITY ANNOUNCEMENT 
- --------------------------------------------------------------------------

PACKAGE   : squid
SUMMARY   : Fixes for multiple squid vulnerabilities
DATE      : 2005-03-08 10:06:00
ID        : CLA-2005:931
RELEVANT
RELEASES  : 9, 10

- -------------------------------------------------------------------------

DESCRIPTION
 Squid[1] is a full-featured web proxy cache.
 
 This announcement fixes the following vulnerabilities for Squid:
 
 1.Strengthen Squid from HTTP response splitting cache pollution
 attack[2]
   This patch additionaly strengthens Squid from the HTTP response
 splitting cache pollution attack described by Sanctum.
 
 2.Reject malformed HTTP requests and responses that conflict with the
 HTTP specifications[3]
   This patch makes Squid considerably stricter while parsing the HTTP
 protocol and also adds a new relaxed_header_parser directive which
 defaults to on. If set off Squid will become really strict about CR
 characters and whitespace in header names, while in the default on
 setting Squid will ignore (and automatically clean up) common
 deviations from these parts of the HTTP specification.
 
 3.Correct handling of oversized reply headers[4]
   This patch addresses a HTTP protocol mismatch related to oversized
 reply headers. In addition it enhances the cache.log reporting on
 reply header parsing failures to make it easier to track down which
 sites are malfunctioning.
 
 4.Segmentation fault on failed PUT/POST request[5]
   An inconsistent state is entered on a failed PUT/POST request
 making a high risk for segmentation faults or other strange errors.
 
 5.Data corruption when HTTP reply headers is split in several
 packets[6]
   Under certain conditions involving HTTP headers split over multiple
 reply packets the HTTP reply may be corrupted by Squid. Symptoms
 range from hanging requests to corrupted data or error messages about
 the reply sent to the clients (usually "httpProcessReplyHeader: Too
 large reply header").
 
 6.Assertion failure on certain odd DNS responses[7]
   Squid may abort with "xstrndup: Asserton 'n' failed" or other
 errors when receiving certain odd DNS responses.
 
 For Conectiva Linux 9, the Squid package has been merged with
 Conectiva Linux 10 package, since both used the same base version.


SOLUTION
 It is recommended that all squid users upgrade to the latest
 packages. This update will automatically restart the service if it is
 already running.
 
 
 REFERENCES
 1.http://www.squid-cache.org/
 2.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE7-response_splitting
 3.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE7-header_parsing
 4.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE7-oversize_reply_headers
 5.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE7-post
 6.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE7-split_headers
 7.http://www1.uk.squid-cache.org/Versions/v2/2.5/bugs/#squid-2.5.STABLE8-dns_assert


UPDATED PACKAGES
ftp://atualizacoes.conectiva.com.br/10/SRPMS/squid-2.5.5-63116U10_8cl.src.rpm
ftp://atualizacoes.conectiva.com.br/10/RPMS/squid-2.5.5-63116U10_8cl.i386.rpm
ftp://atualizacoes.conectiva.com.br/10/RPMS/squid-auth-2.5.5-63116U10_8cl.i386.rpm
ftp://atualizacoes.conectiva.com.br/10/RPMS/squid-extra-templates-2.5.5-63116U10_8cl.i386.rpm
ftp://atualizacoes.conectiva.com.br/9/SRPMS/squid-2.5.5-76327U90_10cl.src.rpm
ftp://atualizacoes.conectiva.com.br/9/RPMS/squid-2.5.5-76327U90_10cl.i386.rpm
ftp://atualizacoes.conectiva.com.br/9/RPMS/squid-auth-2.5.5-76327U90_10cl.i386.rpm
ftp://atualizacoes.conectiva.com.br/9/RPMS/squid-extra-templates-2.5.5-76327U90_10cl.i386.rpm


ADDITIONAL INSTRUCTIONS
 The apt tool can be used to perform RPM packages upgrades:

 - run:                 apt-get update
 - after that, execute: apt-get upgrade

 Detailed instructions regarding the use of apt and upgrade examples 
 can be found at http://distro.conectiva.com.br/atualizacoes/#apt?idioma=en

- -------------------------------------------------------------------------
All packages are signed with Conectiva's GPG key. The key and instructions
on how to import it can be found at 
http://distro.conectiva.com.br/seguranca/chave/?idioma=en
Instructions on how to check the signatures of the RPM packages can be
found at http://distro.conectiva.com.br/seguranca/politica/?idioma=en

- -------------------------------------------------------------------------
All our advisories and generic update instructions can be viewed at
http://distro.conectiva.com.br/atualizacoes/?idioma=en

- -------------------------------------------------------------------------
Copyright (c) 2004 Conectiva Inc.
http://www.conectiva.com

- -------------------------------------------------------------------------
subscribe: conectiva-updates-subscribe@...aleguas.conectiva.com.br
unsubscribe: conectiva-updates-unsubscribe@...aleguas.conectiva.com.br
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQFCLaO542jd0JmAcZARArThAKDmts3LxHasUiDUh2L0Mdboo5Cz4ACdFX71
M56W3VXviSCrFe0g/Tk4okc=
=85JZ
-----END PGP SIGNATURE-----



