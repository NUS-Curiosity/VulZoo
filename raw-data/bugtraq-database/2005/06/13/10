
Date: Fri, 10 Jun 2005 22:42:37 +0200
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2005.009] OpenPKG Security Advisory (gzip)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2005.009                                          10-Jun-2005
________________________________________________________________________

Package:             gzip
Vulnerability:       arbitrary path writing
OpenPKG Specific:    no

Affected Releases:   Affected Packages:           Corrected Packages:
OpenPKG CURRENT      <= gzip-1.3.5-20040207       >= gzip-1.3.5-20050610
OpenPKG 2.3          <= gzip-1.3.5-2.3.0          >= gzip-1.3.5-2.3.1
OpenPKG 2.2          <= gzip-1.3.5-2.2.0          >= gzip-1.3.5-2.2.1

Dependent Packages:  none

Description:
  According to a Debian bug report [0], Ulf Harnhammar discovered an
  input validation error in the GZip data compressor [1]. Because
  gzip(1) fails to properly validate file paths during decompression
  with the "-N" argument, a remote attacker using a malicious archive
  could corrupt arbitrary files with the privileges of the user that
  is running gzip(1). The Common Vulnerabilities and Exposures (CVE)
  project assigned the identifier CAN-2005-1228 [2] to this problem.

  Because the OpenPKG bootstrap package embeds GZip, it is affected as
  well. Please refer to OpenPKG-SA-2005.010-openpkg for details [3].

  Please check whether you are affected by running "<prefix>/bin/openpkg
  rpm -q gzip". If you have the "gzip" package installed and its version
  is affected (see above), we recommend that you immediately upgrade it
  (see Solution) and any dependent packages as well [4][5].

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [6][7], fetch it from the OpenPKG FTP service [8][9] or a mirror
  location, verify its integrity [10], build a corresponding binary
  RPM from it [4] and update your OpenPKG installation by applying the
  binary RPM [5]. For the most recent release OpenPKG 2.3, perform the
  following operations to permanently fix the security problem (for
  other releases adjust accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/2.3/UPD
  ftp> get gzip-1.3.5-2.3.1.src.rpm
  ftp> bye
  $ <prefix>/bin/openpkg rpm -v --checksig gzip-1.3.5-2.3.1.src.rpm
  $ <prefix>/bin/openpkg rpm --rebuild gzip-1.3.5-2.3.1.src.rpm
  $ su -
  # <prefix>/bin/openpkg rpm -Fvh <prefix>/RPM/PKG/gzip-1.3.5-2.3.1.*.rpm

  We recommend that you rebuild and reinstall any dependent packages
  (see above) as well [4][5]. The "openpkg build" tool can be
  instrumental in consistently updating and securing the entire OpenPKG
  instance.
________________________________________________________________________

References:
  [0]  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=305255
  [1]  http://www.gzip.org/
  [2]  http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2005-1228
  [3]  http://www.openpkg.org/security/OpenPKG-SA-2005.010-openpkg.html
  [4]  http://www.openpkg.org/tutorial.html#regular-source
  [5]  http://www.openpkg.org/tutorial.html#regular-binary
  [6]  ftp://ftp.openpkg.org/release/2.3/UPD/gzip-1.3.5-2.3.1.src.rpm
  [7]  ftp://ftp.openpkg.org/release/2.2/UPD/gzip-1.3.5-2.2.1.src.rpm
  [8]  ftp://ftp.openpkg.org/release/2.3/UPD/
  [9]  ftp://ftp.openpkg.org/release/2.2/UPD/
  [10] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with the
OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F) of the
OpenPKG project which you can retrieve from http://pgp.openpkg.org and
hkp://pgp.openpkg.org. Follow the instructions on http://pgp.openpkg.org/
for details on how to verify the integrity of this advisory.
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQFCqfstgHWT4GPEy58RAiYuAJwJMqdOKQmm6BMByHHSFWp17B28wACgoQ9e
TqauW23Vx/UJBmuofVeB3/I=
=PBsZ
-----END PGP SIGNATURE-----


