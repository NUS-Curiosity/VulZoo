
Date: Tue, 27 Oct 2009 07:50:28 +0100
From: Marco Verschuur <marco@....nl>
To: "psz@...hs.usyd.edu.au" <psz@...hs.usyd.edu.au>
Cc: "Casper.Dik@....com" <Casper.Dik@....com>,
	"dan@...htwave.net.ru" <dan@...htwave.net.ru>,
	"bugtraq@...urityfocus.com" <bugtraq@...urityfocus.com>,
	"matt.bergin@...mail.com" <matt.bergin@...mail.com>,
	"pavel@....cz" <pavel@....cz>
Subject: Re: /proc filesystem allows bypassing directory permissions on Linux

Why not?!?
File permissions allow everybody write access to the file.

The path via /proc to the file has been created when the initial path  
via /tmp was wide open.
Closing the initial path via /tmp has no effect on the /proc path

And due to the actual file permissions the read-only fd can easily  
changed to read-write.

         Marco

Sent from my iPhone 3G(s)

On 26 okt 2009, at 22:58, psz@...hs.usyd.edu.au wrote:

> Dear Casper and Dan,
>
>> If you can control<pid>, then clearly you have access the file anyway
>> simply by controlling it using a debugger.
>
> Sorry, but no. The "attacker" has the file opened O_RDONLY, and cannot
> "upgrade" that to O_RDWR.
>
> Cheers, Paul
>
> Paul Szabo   psz@...hs.usyd.edu.au   http://www.maths.usyd.edu.au/u/psz/
> School of Mathematics and Statistics   University of Sydney     
> Australia
