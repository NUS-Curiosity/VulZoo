
Date: Mon, 26 Jun 2017 14:45:24 -0700 (PDT)
From: Slackware Security Team <security@...ckware.com>
To: slackware-security@...ckware.com
Subject: [slackware-security]  kernel (SSA:2017-177-01)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[slackware-security]  kernel (SSA:2017-177-01)

New kernel packages are available for Slackware 14.2 and -current to
fix security issues.


Here are the details from the Slackware 14.2 ChangeLog:
+--------------------------+
patches/packages/linux-4.4.74/*:  Upgraded.
  This kernel fixes two "Stack Clash" vulnerabilities reported by Qualys.
  The first issue may allow attackers to execute arbitrary code with elevated
  privileges. Failed attack attempts will likely result in denial-of-service
  conditions. The second issue can be exploited to bypass certain security
  restrictions and perform unauthorized actions.
  Be sure to upgrade your initrd after upgrading the kernel packages.
  If you use lilo to boot your machine, be sure lilo.conf points to the correct
  kernel and initrd and run lilo as root to update the bootloader.
  If you use elilo to boot your machine, you should run eliloconfig to copy the
  kernel and initrd to the EFI System Partition.
  For more information, see:
    https://www.qualys.com/2017/06/19/stack-clash/stack-clash.txt
    https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-1000364
    https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-1000365
  (* Security fix *)
+--------------------------+


Where to find the new packages:
+-----------------------------+

Thanks to the friendly folks at the OSU Open Source Lab
(http://osuosl.org) for donating FTP and rsync hosting
to the Slackware project!  :-)

Also see the "Get Slack" section on http://slackware.com for
additional mirror sites near you.

Updated packages for Slackware 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-firmware-20170626git-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-generic-4.4.74-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-generic-smp-4.4.74_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-headers-4.4.74_smp-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-huge-4.4.74-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-huge-smp-4.4.74_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-modules-4.4.74-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-modules-smp-4.4.74_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.74/kernel-source-4.4.74_smp-noarch-1.txz

Updated packages for Slackware x86_64 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-firmware-20170626git-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-generic-4.4.74-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-headers-4.4.74-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-huge-4.4.74-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-modules-4.4.74-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.74/kernel-source-4.4.74-noarch-1.txz

Updated packages for Slackware -current:
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-firmware-20170626git-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-generic-4.9.34-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-generic-smp-4.9.34_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-huge-4.9.34-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-huge-smp-4.9.34_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-modules-4.9.34-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/a/kernel-modules-smp-4.9.34_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/d/kernel-headers-4.9.34_smp-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-current/slackware/k/kernel-source-4.9.34_smp-noarch-1.txz

Updated packages for Slackware x86_64 -current:
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/a/kernel-firmware-20170626git-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/a/kernel-generic-4.9.34-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/a/kernel-huge-4.9.34-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/a/kernel-modules-4.9.34-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/d/kernel-headers-4.9.34-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-current/slackware64/k/kernel-source-4.9.34-noarch-1.txz


MD5 signatures:
+-------------+

Slackware 14.2 packages:
d8c692b02c3e71ff94c25bcd47e531e0  kernel-firmware-20170626git-noarch-1.txz
07e5b4513d2d6261f8c48cae627e72d0  kernel-generic-4.4.74-i586-1.txz
a2f379a40d09cc1d9a59e65d735b3788  kernel-generic-smp-4.4.74_smp-i686-1.txz
462b4f89ba17f8fc0d22f501e2dc523e  kernel-headers-4.4.74_smp-x86-1.txz
af10af163c0791125b108fe4349c4d81  kernel-huge-4.4.74-i586-1.txz
f321fdf041f45766300fa1e51ab85721  kernel-huge-smp-4.4.74_smp-i686-1.txz
1057b100c9f6684bb2af2d807cf34a49  kernel-modules-4.4.74-i586-1.txz
c7d9395cf6434587a10d2a9f48ffbef6  kernel-modules-smp-4.4.74_smp-i686-1.txz
e342f243d7d104e639c95c2692dc4792  kernel-source-4.4.74_smp-noarch-1.txz

Slackware x86_64 14.2 packages:
d8c692b02c3e71ff94c25bcd47e531e0  kernel-firmware-20170626git-noarch-1.txz
663595c609eb96f11fa818fdea974ad2  kernel-generic-4.4.74-x86_64-1.txz
e8bafafbe0333080b8c8651ffe7d2e7f  kernel-headers-4.4.74-x86-1.txz
e13dbde8cc63fef485236083aa559425  kernel-huge-4.4.74-x86_64-1.txz
fa577784c9d80823c2f864ee177b2afd  kernel-modules-4.4.74-x86_64-1.txz
66f7b482297cc1420e5fac514a0758a3  kernel-source-4.4.74-noarch-1.txz

Slackware -current packages:
d8c692b02c3e71ff94c25bcd47e531e0  a/kernel-firmware-20170626git-noarch-1.txz
a4dce01a3aafdf65da99a64f691f11fa  a/kernel-generic-4.9.34-i586-1.txz
54a502fa2ac8296759cb3c2358570de3  a/kernel-generic-smp-4.9.34_smp-i686-1.txz
7c3d47a1654aab1034066a4ed8915fb2  a/kernel-huge-4.9.34-i586-1.txz
427118c68be8ccb94b355108bd385b90  a/kernel-huge-smp-4.9.34_smp-i686-1.txz
830a9be326e38082449e561b7f2ba81c  a/kernel-modules-4.9.34-i586-1.txz
45ba18347d5c9ff514e3974e29c38ec0  a/kernel-modules-smp-4.9.34_smp-i686-1.txz
705263ceb8c89d67fb361a70a5eecff0  d/kernel-headers-4.9.34_smp-x86-1.txz
22d833540eb3382fd0c091466e167fd3  k/kernel-source-4.9.34_smp-noarch-1.txz

Slackware x86_64 -current packages:
d8c692b02c3e71ff94c25bcd47e531e0  a/kernel-firmware-20170626git-noarch-1.txz
1750de3dc69e932ea268bd161a3bb41e  a/kernel-generic-4.9.34-x86_64-1.txz
458c605be41c9e995928db09f578653b  a/kernel-huge-4.9.34-x86_64-1.txz
bd2855c8f73f20482f32309092865794  a/kernel-modules-4.9.34-x86_64-1.txz
6109b636a259e0a6aa9dc3115f594ceb  d/kernel-headers-4.9.34-x86-1.txz
2e748040c330798278f723b0c8072adc  k/kernel-source-4.9.34-noarch-1.txz


Installation instructions:
+------------------------+

Upgrade the packages as root:
# upgradepkg kernel-*.txz

If you are using an initrd, you'll need to rebuild it.

For a 32-bit SMP machine, use this command (substitute the appropriate
kernel version if you are not running Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.74-smp | bash

For a 64-bit machine, or a 32-bit uniprocessor machine, use this command
(substitute the appropriate kernel version if you are not running
Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.74 | bash

Please note that "uniprocessor" has to do with the kernel you are running,
not with the CPU.  Most systems should run the SMP kernel (if they can)
regardless of the number of cores the CPU has.  If you aren't sure which
kernel you are running, run "uname -a".  If you see SMP there, you are
running the SMP kernel and should use the 4.4.74-smp version when running
mkinitrd_command_generator.  Note that this is only for 32-bit -- 64-bit
systems should always use 4.4.74 as the version.

If you are using lilo or elilo to boot the machine, you'll need to ensure
that the machine is properly prepared before rebooting.

If using LILO:
By default, lilo.conf contains an image= line that references a symlink
that always points to the correct kernel.  No editing should be required
unless your machine uses a custom lilo.conf.  If that is the case, be sure
that the image= line references the correct kernel file.  Either way,
you'll need to run "lilo" as root to reinstall the boot loader.

If using elilo:
Ensure that the /boot/vmlinuz symlink is pointing to the kernel you wish
to use, and then run eliloconfig to update the EFI System Partition.


+-----+

Slackware Linux Security Team
http://slackware.com/gpg-key
security@...ckware.com

+------------------------------------------------------------------------+
| To leave the slackware-security mailing list:                          |
+------------------------------------------------------------------------+
| Send an email to majordomo@...ckware.com with this text in the body of |
| the email message:                                                     |
|                                                                        |
|   unsubscribe slackware-security                                       |
|                                                                        |
| You will get a confirmation message back containing instructions to    |
| complete the process.  Please do not reply to this email address.      |
+------------------------------------------------------------------------+
-----BEGIN PGP SIGNATURE-----

iEYEARECAAYFAllRch0ACgkQakRjwEAQIjOilwCghh7zanfmK/8eo29tToUQBBWl
deoAoIUbXo/7Ca0NGm6SrSWGkh5YpAAA
=m9aK
-----END PGP SIGNATURE-----
