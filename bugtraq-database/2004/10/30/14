
Date: Fri, 29 Oct 2004 16:53:20 +0200
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2004.048] OpenPKG Security Advisory (squid)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2004.048                                          29-Oct-2004
________________________________________________________________________

Package:             squid (option "with_snmp yes" only)
Vulnerability:       denial of service
OpenPKG Specific:    no

Affected Releases:   Affected Packages:      Corrected Packages:
OpenPKG CURRENT      <= squid-2.5.6-20040913 >= squid-2.5.7-20041012
OpenPKG 2.2          none                    N.A.
OpenPKG 2.1          <= squid-2.5.6-2.1.0    >= squid-2.5.6-2.1.1

Dependent Packages:  none

Description:
  According to an iDEFENSE security advisory [0], a denial of service
  (DoS) vulnerability exists in the Squid [1] web caching proxy [1].
  The "asn_parse_header" function in the SNMP module of Squid before
  version 2.4.STABLE7 allows remote attackers to cause a denial of
  service (server restart) via certain SNMP packets with negative
  length fields that causes a memory allocation error. The Common
  Vulnerabilities and Exposures (CVE) project assigned the id
  CAN-2004-0918 [2] to the problem.

  Please check whether you are affected by running "<prefix>/bin/rpm -q
  squid" and "<prefix>/bin/rpm -qi squid | grep with_snmp". If you have
  the "squid" package with option "with_snmp" installed and its version
  is affected (see above), we recommend that you immediately upgrade
  (see Solution) [3][4].

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [5], fetch it from the OpenPKG FTP service [6] or a mirror location,
  verify its integrity [7], build a corresponding binary RPM from it [3]
  and update your OpenPKG installation by applying the binary RPM [4].
  For the previous release OpenPKG 2.1, perform the following operations
  to permanently fix the security problem (for other releases adjust
  accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/2.1/UPD
  ftp> get squid-2.5.6-2.1.1.src.rpm
  ftp> bye
  $ <prefix>/bin/openpkg rpm -v --checksig squid-2.5.6-2.1.1.src.rpm
  $ <prefix>/bin/openpkg rpm --rebuild squid-2.5.6-2.1.1.src.rpm
  $ su -
  # <prefix>/bin/openpkg rpm -Fvh <prefix>/RPM/PKG/squid-2.5.6-2.1.1.*.rpm
________________________________________________________________________

References:
  [0] http://www.idefense.com/application/poi/display?id=152
  [1] http://www.squid-cache.org/
  [2] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0918
  [3] http://www.openpkg.org/tutorial.html#regular-source
  [4] http://www.openpkg.org/tutorial.html#regular-binary
  [5] ftp://ftp.openpkg.org/release/2.1/UPD/squid-2.5.6-2.1.1.src.rpm
  [6] ftp://ftp.openpkg.org/release/2.1/UPD/
  [7] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with the
OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F) of the
OpenPKG project which you can retrieve from http://pgp.openpkg.org and
hkp://pgp.openpkg.org. Follow the instructions on http://pgp.openpkg.org/
for details on how to verify the integrity of this advisory.
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQFBgllNgHWT4GPEy58RAuOuAJ0aemAHXPo9pTKgOh8OtW/J/xihYwCfdW01
zpDwYACYJT+WD2p+gJDCwmY=
=GmCs
-----END PGP SIGNATURE-----


