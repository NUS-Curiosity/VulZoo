
Date: Wed, 14 Apr 2004 22:48:03 +0200
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2004.014] OpenPKG Security Advisory (mysql)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2004.014                                          14-Apr-2004
________________________________________________________________________

Package:             mysql
Vulnerability:       insecure temporary file creation
OpenPKG Specific:    no

Affected Releases:   Affected Packages:        Corrected Packages:
OpenPKG CURRENT      <= mysql-4.0.18-20040214  >= mysql-4.0.18-20040414
OpenPKG 2.0          <= mysql-4.0.18-2.0.0     >= mysql-4.0.18-2.0.1
OpenPKG 1.3          <= mysql-4.0.14-1.3.2     >= mysql-4.0.14-1.3.3

Dependent Packages:  none

Description:
  Shaun Colley discovered [1] that the scripts "mysqlbug" and
  "mysqld_multi" of the MySQL RDBMS [0] perform insecure creations of
  temporary files. An attacker could create symbolic links in /tmp to
  achieve the overwriting of files with the privileges of the user
  invoking the scripts. The RDBMS startup wrapper "mysqld_multi" is
  currently not used in OpenPKG, although it is contained in the
  "mysql" package. The "mysqlbug" script could be run manually by the
  administrator. The Common Vulnerabilities and Exposures (CVE) project
  assigned the ids CAN-2004-0381 [2] and CAN-2004-0388 [3] to the
  problem.

  Please check whether you are affected by running "<prefix>/bin/rpm -q
  mysql". If you have the "mysql" package installed and its version is
  affected (see above), we recommend that you immediately upgrade it
  (see Solution). [4][5]

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [6][7], fetch it from the OpenPKG FTP service [8][9] or a mirror
  location, verify its integrity [10], build a corresponding binary
  RPM from it [4] and update your OpenPKG installation by applying the
  binary RPM [5]. For the most recent release OpenPKG 2.0, perform the
  following operations to permanently fix the security problem (for
  other releases adjust accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/2.0/UPD
  ftp> get mysql-4.0.18-2.0.1.src.rpm
  ftp> bye
  $ <prefix>/bin/openpkg rpm -v --checksig mysql-4.0.18-2.0.1.src.rpm
  $ <prefix>/bin/openpkg rpm --rebuild mysql-4.0.18-2.0.1.src.rpm
  $ su -
  # <prefix>/bin/openpkg rpm -Fvh <prefix>/RPM/PKG/mysql-4.0.18-2.0.1.*.rpm
________________________________________________________________________

References:
  [0]  http://www.mysql.com/
  [1]  http://www.nettwerked.co.uk/advisories/mysqlbug
  [2]  http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0381
  [3]  http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0388
  [4]  http://www.openpkg.org/tutorial.html#regular-source
  [5]  http://www.openpkg.org/tutorial.html#regular-binary
  [6]  ftp://ftp.openpkg.org/release/1.3/UPD/mysql-4.0.14-1.3.3.src.rpm
  [7]  ftp://ftp.openpkg.org/release/2.0/UPD/mysql-4.0.18-2.0.1.src.rpm
  [8]  ftp://ftp.openpkg.org/release/1.3/UPD/
  [9]  ftp://ftp.openpkg.org/release/2.0/UPD/
  [10] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with the
OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F) of the
OpenPKG project which you can retrieve from http://pgp.openpkg.org and
hkp://pgp.openpkg.org. Follow the instructions on http://pgp.openpkg.org/
for details on how to verify the integrity of this advisory.
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQFAfaNfgHWT4GPEy58RAgwEAKDpIRVD8RvfCSqKJI+ku38foCTpfQCfUAUM
rKbhklY4c7khNgWxkGxrBNo=
=Lk27
-----END PGP SIGNATURE-----


