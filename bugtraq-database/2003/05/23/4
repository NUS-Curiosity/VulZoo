
Date: Thu, 22 May 2003 11:14:34 -0700 (PDT)
From: Slackware Security Team <security@...ckware.com>
To: slackware-security@...ckware.com
Subject: [slackware-security]  REVISED quotacheck security fix in rc.M
 (SSA:2003-141-06a)



-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[slackware-security]  REVISED quotacheck security fix in rc.M (SSA:2003-141-06a)

NOTE:  The original advisory quotes a section of the Slackware ChangeLog
which had inadvertently reversed the options to quotacheck.  The correct
option to use is 'm'.  A corrected advisory follows:


An upgraded sysvinit package is available which fixes a problem with
the use of quotacheck in /etc/rc.d/rc.M.  The original version of
rc.M calls quotacheck like this:

    echo "Checking filesystem quotas:  /sbin/quotacheck -avugM"
    /sbin/quotacheck -avugM

The 'M' option is wrong.  This causes the filesystem to be remounted,
and in the process any mount flags such as nosuid, nodev, noexec,
and the like, will be reset.  The correct option to use here is 'm',
which does not attempt to remount the partition:

    echo "Checking filesystem quotas:  /sbin/quotacheck -avugm"
    /sbin/quotacheck -avugm

We recommend sites using file system quotas upgrade to this new package,
or edit /etc/rc.d/rc.M accordingly.


Here are the details from the Slackware 9.0 ChangeLog:
+--------------------------+
Tue May 20 20:13:09 PDT 2003
patches/packages/sysvinit-2.84-i386-26.tgz:  Use option m, not M, for quotacheck.
  Otherwise, the partition might be remounted losing flags like nosuid,nodev,
  noexec.  Thanks to Jem Berkes for pointing this out.
  (* Security fix *)
+--------------------------+



WHERE TO FIND THE NEW PACKAGES:
+-----------------------------+

Updated package for Slackware 9.0:
ftp://ftp.slackware.com/pub/slackware/slackware-9.0/patches/packages/sysvinit-2.84-i386-26.tgz



MD5 SIGNATURES:
+-------------+

Slackware 9.0 package:
966281dbd4e8cac23264021b9ad48f61  sysvinit-2.84-i386-26.tgz



INSTALLATION INSTRUCTIONS:
+------------------------+

Upgrade using upgradepkg (as root):

upgradepkg sysvinit-2.84-i386-26.tgz

Then, you'll need to move the new version of rc.M into place, as rc.M
is considered a config file and upgradepkg will not overwrite these by
default:

mv /etc/rc.d/rc.M.new /etc/rc.d/rc.M



+-----+

Slackware Linux Security Team
http://slackware.com/gpg-key
security@...ckware.com

+------------------------------------------------------------------------+
| HOW TO REMOVE YOURSELF FROM THIS MAILING LIST:                         |
+------------------------------------------------------------------------+
| Send an email to majordomo@...ckware.com with this text in the body of |
| the email message:                                                     |
|                                                                        |
|   unsubscribe slackware-security                                       |
|                                                                        |
| You will get a confirmation message back.  Follow the instructions to  |
| complete the unsubscription.  Do not reply to this message to          |
| unsubscribe!                                                           |
+------------------------------------------------------------------------+

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQE+zQi6akRjwEAQIjMRAnTWAKCDkNiaJJNZcotfkePT9Q7KfeeA2ACeJhdS
wlWeqta1DcVMm5dbtEomBdQ=
=RBNc
-----END PGP SIGNATURE-----


