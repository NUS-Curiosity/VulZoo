
Date: Wed, 2 Jul 2003 12:06 -0400
From: bugzilla@...hat.com
To: redhat-watch-list@...hat.com
Cc: bugtraq@...urityfocus.com, full-disclosure@...ts.netsys.com
Subject: [RHSA-2003:204-01] Updated PHP packages are now available


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- ---------------------------------------------------------------------
                   Red Hat Security Advisory

Synopsis:          Updated PHP packages are now available
Advisory ID:       RHSA-2003:204-01
Issue date:        2003-07-02
Updated on:        2003-07-02
Product:           Red Hat Linux
Keywords:          PHP Cross-Site-Scripting use_trans_sid session
Cross references:  
Obsoletes:         RHSA-2003:017
CVE Names:         CAN-2003-0442
- ---------------------------------------------------------------------

1. Topic:

Updated PHP packages for Red Hat Linux 8.0 and 9 are available that fix a
number of bugs, as well as a minor security problem in the transparent
session ID functionality.

2. Relevant releases/architectures:

Red Hat Linux 8.0 - i386
Red Hat Linux 9 - i386

3. Problem description:

PHP is an HTML-embedded scripting language commonly used with the Apache
HTTP server.

This update contains fixes for a number of bugs discovered in the version
of PHP included in Red Hat Linux 8.0 and 9.  These bugs include the use of 
a PHP script as an ErrorDocument and possible POST body corruption in some
configurations.

Also included is a fix for a minor security problem. In PHP version 4.3.1
and earlier, when transparent session ID support is enabled using the
"session.use_trans_sid" option, the session ID is not escaped before use. 
This allows a Cross Site Scripting attack.  The Common Vulnerabilities and
Exposures project (cve.mitre.org) has assigned the name CAN-2003-0442 to
this issue.

All users of PHP are advised to upgrade to these erratum packages, which
contain back-ported patches to correct these issues.

4. Solution:

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

To update all RPMs for your particular architecture, run:

rpm -Fvh [filenames]

where [filenames] is a list of the RPMs you wish to upgrade.  Only those
RPMs which are currently installed will be updated.  Those RPMs which are
not installed but included in the list will not be updated.  Note that you
can also use wildcards (*.rpm) if your current directory *only* contains the
desired RPMs.

Please note that this update is also available via Red Hat Network.  Many
people find this an easier way to apply updates.  To use Red Hat Network,
launch the Red Hat Update Agent with the following command:

up2date

This will start an interactive process that will result in the appropriate
RPMs being upgraded on your system.

5. Bug IDs fixed (http://bugzilla.redhat.com/bugzilla for more info):

74761 - snmp module relocation error
82967 - POST body corruption in some configurations
84460 - pear/DB/pgsql.php incompatible with postgresql 7.3
84828 - exit() does not report correct exit code
85820 - ext/sockets.c has a bug in socket_write
91019 - ErrorDocument 401 /some_file.php does not work with apache2
91279 - Segfault using PHP with mod_negotiation

6. RPMs required:

Red Hat Linux 8.0:

SRPMS:
ftp://updates.redhat.com/8.0/en/os/SRPMS/php-4.2.2-8.0.8.src.rpm

i386:
ftp://updates.redhat.com/8.0/en/os/i386/php-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-devel-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-imap-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-ldap-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-manual-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-mysql-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-pgsql-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-odbc-4.2.2-8.0.8.i386.rpm
ftp://updates.redhat.com/8.0/en/os/i386/php-snmp-4.2.2-8.0.8.i386.rpm

Red Hat Linux 9:

SRPMS:
ftp://updates.redhat.com/9/en/os/SRPMS/php-4.2.2-17.2.src.rpm

i386:
ftp://updates.redhat.com/9/en/os/i386/php-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-devel-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-imap-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-ldap-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-manual-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-mysql-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-pgsql-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-odbc-4.2.2-17.2.i386.rpm
ftp://updates.redhat.com/9/en/os/i386/php-snmp-4.2.2-17.2.i386.rpm



7. Verification:

MD5 sum                          Package Name
- --------------------------------------------------------------------------
560ff87c3cde98119807757d132d0f45 8.0/en/os/SRPMS/php-4.2.2-8.0.8.src.rpm
b10a6009feb81f9b1c82a697e0656493 8.0/en/os/i386/php-4.2.2-8.0.8.i386.rpm
943656c277ebc23c31255198c54a9a56 8.0/en/os/i386/php-devel-4.2.2-8.0.8.i386.rpm
360bc50adeff3ea63c40dec86f508eb8 8.0/en/os/i386/php-imap-4.2.2-8.0.8.i386.rpm
6e43c48de793918288545ebf6a5aab4b 8.0/en/os/i386/php-ldap-4.2.2-8.0.8.i386.rpm
14c477164b1817bbf7e0a871efc700ee 8.0/en/os/i386/php-manual-4.2.2-8.0.8.i386.rpm
bf9c4e99fadab5f93fc877e5b24ab9df 8.0/en/os/i386/php-mysql-4.2.2-8.0.8.i386.rpm
dc07e9a995c5398f0d63cc8165862941 8.0/en/os/i386/php-odbc-4.2.2-8.0.8.i386.rpm
eb067da7cdcbd8903f78565a06772160 8.0/en/os/i386/php-pgsql-4.2.2-8.0.8.i386.rpm
e59bf6e5be9d842d53b36dc8a94cd540 8.0/en/os/i386/php-snmp-4.2.2-8.0.8.i386.rpm
58d47e8d632568ae24904758346386e5 9/en/os/SRPMS/php-4.2.2-17.2.src.rpm
99c255c7b720b618400b489963bc36eb 9/en/os/i386/php-4.2.2-17.2.i386.rpm
b97683331aa3fa14f468cf40bc702310 9/en/os/i386/php-devel-4.2.2-17.2.i386.rpm
2177a59347b9ac07ef1a05df1e3f6f64 9/en/os/i386/php-imap-4.2.2-17.2.i386.rpm
46660b9266a2734569e31a603194297a 9/en/os/i386/php-ldap-4.2.2-17.2.i386.rpm
fd1ee7abe9ceb903c34f4906d8a2b84d 9/en/os/i386/php-manual-4.2.2-17.2.i386.rpm
0c468aa0865f6a1ee0a03b6b910d5a71 9/en/os/i386/php-mysql-4.2.2-17.2.i386.rpm
4bffd859248a76ca77cc62fce679c221 9/en/os/i386/php-odbc-4.2.2-17.2.i386.rpm
8e408afd7a2ba97943012d8e278d277d 9/en/os/i386/php-pgsql-4.2.2-17.2.i386.rpm
ee20ed32d723e59fb37e2b9d7c06c953 9/en/os/i386/php-snmp-4.2.2-17.2.i386.rpm


These packages are GPG signed by Red Hat for security.  Our key is
available from http://www.redhat.com/security/keys.html

You can verify each package with the following command:
    
    rpm --checksig -v <filename>

If you only wish to verify that each package has not been corrupted or
tampered with, examine only the md5sum with the following command:
    
    md5sum <filename>


8. References:

http://shh.thathost.com/secadv/2003-05-11-php.txt
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0442

9. Contact:

The Red Hat security contact is <secalert@...hat.com>.  More contact
details at http://www.redhat.com/solutions/security/news/contact.html

Copyright 2003 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.7 (GNU/Linux)

iD8DBQE/AwLNXlSAg2UNWIIRAj+mAJsFCe9eY4m7xJbNs/2nWg62pn3+VgCgm2l9
FnZcaTgbWlNQ7IZRHsbmR/0=
=Jw2v
-----END PGP SIGNATURE-----

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.netsys.com/full-disclosure-charter.html


