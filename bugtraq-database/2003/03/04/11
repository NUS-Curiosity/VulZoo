
Date: Tue, 4 Mar 2003 17:50:46 +0100
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2003.017] OpenPKG Security Advisory (file)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2003.017                                          04-Mar-2003
________________________________________________________________________

Package:             file
Vulnerability:       memory allocation problem, stack overflow
OpenPKG Specific:    no

Affected Releases:   Affected Packages:          Corrected Packages:
OpenPKG CURRENT      <= file-3.40-20030209       >= file-3.41-20030228
OpenPKG 1.2          <= file-3.39-1.2.0          >= file-3.39-1.2.1
OpenPKG 1.1          <= file-3.39-1.1.1          >= file-3.39-1.1.2

Dependent Packages:  none                        N.A.

Description:
  Jeff Johnson found a memory allocation problem and David Endler found
  a stack overflow corruption problem in the file [1] "Automatic File
  Content Type Recognition Tool" version 3.41. Nalin Dahyabhai improved
  ELF section and program header handling in file [1] version 3.40. We
  believe that file versions without those modifications are vulnerable
  to memory allocation and stack overflow problems which put security at
  risk. We have backported the security relevant pieces of the 3.41 and
  3.40 vendor changes into OpenPKG releases using vendor version 3.39.
  
  Please check whether you are affected by running "<prefix>/bin/rpm
  -q file". If you have the "file" package installed and its version
  is affected (see above), we recommend that you immediately upgrade
  it (see Solution). [2][3]

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [4][5], fetch it from the OpenPKG FTP service [6][7] or a mirror
  location, verify its integrity [8], build a corresponding binary RPM
  from it [2] and update your OpenPKG installation by applying the
  binary RPM [3]. For the current release OpenPKG 1.2, perform the
  following operations to permanently fix the security problem (for
  other releases adjust accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/1.2/UPD
  ftp> get file-3.39-1.2.1.src.rpm
  ftp> bye
  $ <prefix>/bin/rpm -v --checksig file-3.39-1.2.1.src.rpm
  $ <prefix>/bin/rpm --rebuild file-3.39-1.2.1.src.rpm
  $ su -
  # <prefix>/bin/rpm -Fvh <prefix>/RPM/PKG/file-3.39-1.2.1.*.rpm

________________________________________________________________________

References:
  [1] ftp://ftp.astron.com/pub/file/
  [2] http://www.openpkg.org/tutorial.html#regular-source
  [3] http://www.openpkg.org/tutorial.html#regular-binary
  [4] ftp://ftp.openpkg.org/release/1.1/UPD/file-3.39-1.1.2.src.rpm
  [5] ftp://ftp.openpkg.org/release/1.2/UPD/file-3.39-1.2.1.src.rpm
  [6] ftp://ftp.openpkg.org/release/1.1/UPD/
  [7] ftp://ftp.openpkg.org/release/1.2/UPD/
  [8] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with
the OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F)
of the OpenPKG project which you can find under the official URL
http://www.openpkg.org/openpkg.pgp or on http://keyserver.pgp.com/. To
check the integrity of this advisory, verify its digital signature by
using GnuPG (http://www.gnupg.org/). For instance, pipe this message to
the command "gpg --verify --keyserver keyserver.pgp.com".
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQE+ZNa8gHWT4GPEy58RAv/sAJ9Jq+8xFwUuLlDs1HmzfLmao3WouQCgnyMH
rWtiA32e/FZ17nwKHRAuiL0=
=ec0v
-----END PGP SIGNATURE-----


