
Date: Thu, 25 Sep 2003 09:50:24 +0200
From: OpenPKG <openpkg@...npkg.org>
To: bugtraq@...urityfocus.com
Subject: [OpenPKG-SA-2003.043] OpenPKG Security Advisory (proftpd)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

________________________________________________________________________

OpenPKG Security Advisory                            The OpenPKG Project
http://www.openpkg.org/security.html              http://www.openpkg.org
openpkg-security@...npkg.org                         openpkg@...npkg.org
OpenPKG-SA-2003.043                                          25-Sep-2003
________________________________________________________________________

Package:             proftpd
Vulnerability:       arbitrary code execution
OpenPKG Specific:    no

Affected Releases:   Affected Packages:           Corrected Packages:
OpenPKG CURRENT      <= proftpd-1.2.9rc2-20030911 >= proftpd-1.2.9rc2-20030923
OpenPKG 1.3          <= proftpd-1.2.8-1.3.0       >= proftpd-1.2.8-1.3.1
OpenPKG 1.2          <= proftpd-1.2.7-1.2.0       >= proftpd-1.2.7-1.2.1

Dependent Packages:  none

Description:
  According to an ISS X-Force security advisory [0], a vulnerability
  exists in the ProFTPD FTP server [1], versions between 1.2.7 and
  1.2.9rc2 (both inclusive). It can be triggered by remote attackers
  when transferring files from the FTP server in ASCII mode.

  To trigger the vulnerability, the attacker must have the ability to
  first upload a file to the server (not necessarily via FTP), and then
  attempt to download the same file via FTP. During ASCII transfer, file
  data is examined in 1024 byte chunks to check for newline characters.
  The translation of these newline characters is not handled correctly,
  and a buffer overflow can manifest if ProFTPD parses a specially
  crafted file. The Common Vulnerabilities and Exposures (CVE) project
  assigned the id CAN-2003-0831 [2] to the problem.

  Please check whether you are affected by running "<prefix>/bin/rpm -q
  proftpd". If you have the "proftpd" package installed and its version
  is affected (see above), we recommend that you immediately upgrade it
  (see Solution). [3][4]

Solution:
  Select the updated source RPM appropriate for your OpenPKG release
  [5][6], fetch it from the OpenPKG FTP service [7][8] or a mirror
  location, verify its integrity [9], build a corresponding binary RPM
  from it [3] and update your OpenPKG installation by applying the
  binary RPM [4]. For the current release OpenPKG 1.3, perform the
  following operations to permanently fix the security problem (for
  other releases adjust accordingly).

  $ ftp ftp.openpkg.org
  ftp> bin
  ftp> cd release/1.3/UPD
  ftp> get proftpd-1.2.8-1.3.1.src.rpm
  ftp> bye
  $ <prefix>/bin/rpm -v --checksig proftpd-1.2.8-1.3.1.src.rpm
  $ <prefix>/bin/rpm --rebuild proftpd-1.2.8-1.3.1.src.rpm
  $ su -
  # <prefix>/bin/rpm -Fvh <prefix>/RPM/PKG/proftpd-1.2.8-1.3.1.*.rpm
________________________________________________________________________

References:
  [0] http://xforce.iss.net/xforce/alerts/id/154
  [1] http://www.proftpd.org/
  [2] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0831
  [3] http://www.openpkg.org/tutorial.html#regular-source
  [4] http://www.openpkg.org/tutorial.html#regular-binary
  [5] ftp://ftp.openpkg.org/release/1.2/UPD/proftpd-1.2.7-1.2.1.src.rpm
  [6] ftp://ftp.openpkg.org/release/1.3/UPD/proftpd-1.2.8-1.3.1.src.rpm
  [7] ftp://ftp.openpkg.org/release/1.2/UPD/
  [8] ftp://ftp.openpkg.org/release/1.3/UPD/
  [9] http://www.openpkg.org/security.html#signature
________________________________________________________________________

For security reasons, this advisory was digitally signed with the
OpenPGP public key "OpenPKG <openpkg@...npkg.org>" (ID 63C4CB9F) of the
OpenPKG project which you can retrieve from http://pgp.openpkg.org and
hkp://pgp.openpkg.org. Follow the instructions on http://pgp.openpkg.org/
for details on how to verify the integrity of this advisory.
________________________________________________________________________

-----BEGIN PGP SIGNATURE-----
Comment: OpenPKG <openpkg@...npkg.org>

iD8DBQE/cp2RgHWT4GPEy58RAkMpAJ44rts7A+xnFwvAYfaeOw7A/RlP7ACg41l0
HI21gWgPtilljTqbNfadgAw=
=HdGn
-----END PGP SIGNATURE-----


