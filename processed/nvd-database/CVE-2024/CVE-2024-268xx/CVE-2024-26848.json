{
  "id": "CVE-2024-26848",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2024-04-17T11:15:08.323",
  "lastModified": "2024-06-25T22:15:23.890",
  "vulnStatus": "Awaiting Analysis",
  "cveTags": [],
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nafs: Fix endless loop in directory parsing\n\nIf a directory has a block with only \".__afsXXXX\" files in it (from\nuncompleted silly-rename), these .__afsXXXX files are skipped but without\nadvancing the file position in the dir_context.  This leads to\nafs_dir_iterate() repeating the block again and again.\n\nFix this by making the code that skips the .__afsXXXX file also manually\nadvance the file position.\n\nThe symptoms are a soft lookup:\n\n        watchdog: BUG: soft lockup - CPU#3 stuck for 52s! [check:5737]\n        ...\n        RIP: 0010:afs_dir_iterate_block+0x39/0x1fd\n        ...\n         ? watchdog_timer_fn+0x1a6/0x213\n        ...\n         ? asm_sysvec_apic_timer_interrupt+0x16/0x20\n         ? afs_dir_iterate_block+0x39/0x1fd\n         afs_dir_iterate+0x10a/0x148\n         afs_readdir+0x30/0x4a\n         iterate_dir+0x93/0xd3\n         __do_sys_getdents64+0x6b/0xd4\n\nThis is almost certainly the actual fix for:\n\n        https://bugzilla.kernel.org/show_bug.cgi?id=218496"
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: afs: corrige el bucle sin fin en el an\u00e1lisis de directorios. Si un directorio tiene un bloque con solo archivos \".__afsXXXX\" (de un cambio de nombre incompleto), estos archivos .__afsXXXX se omiten, pero sin avanzar la posici\u00f3n del archivo en dir_context. Esto lleva a que afs_dir_iterate() repita el bloque una y otra vez. Solucione este problema haciendo que el c\u00f3digo que omite el archivo .__afsXXXX tambi\u00e9n avance manualmente la posici\u00f3n del archivo. Los s\u00edntomas son una b\u00fasqueda suave: perro guardi\u00e1n: ERROR: bloqueo suave - \u00a1CPU n.\u00b0 3 bloqueada durante 52 segundos! [verificaci\u00f3n: 5737]... RIP: 0010:afs_dir_iterate_block+0x39/0x1fd...? watchdog_timer_fn+0x1a6/0x213...? asm_sysvec_apic_timer_interrupt+0x16/0x20? AFS_DIR_ITERATE_BLOCK+0x39/0x1fd AFS_DIR_ITERATE+0x10a/0x148 AFS_READDIR+0X30/0X4A ITERE_DIR+0X93/0XD3 __DO_SYS_GETDENTS64+0x6b/0xd4 Esto es casi seguro que es casi seguro el fianza real: bug.cgi? id = 218496"
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/058ed71e0f7aa3b6694ca357e23d084e5d3f2470",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/106e14ca55a0acb3236ee98813a1d243f8aa2d05",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/2afdd0cb02329464d77f3ec59468395c791a51a4",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/5c78be006ed9cb735ac2abf4fd64f3f4ea26da31",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/5f7a07646655fb4108da527565dcdc80124b14c4",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/76426abf9b980b46983f97de8e5b25047b4c9863",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/80b15346492bdba677bbb0adefc611910e505f7b",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/854ebf45a4ddd4cadeffb6644e88d19020634e1a",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/96370ba395c572ef496fd2c7afc4a1ab3dedd3f0",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/9c41f4935625218a2053a2dce1423c3054169809",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/a6ffae61ad9ebf2fdcb943135b2f30c85f49cd27",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/b94f434fe977689da4291dc21717790b9bd1c064",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/f67898867b6b0f4542cddc7fe57997978b948a7a",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/fe02316e4933befc621fa125efb8f8b4d04cceec",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://lists.debian.org/debian-lts-announce/2024/06/msg00017.html",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}