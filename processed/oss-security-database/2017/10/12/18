
Date: Thu, 12 Oct 2017 13:02:40 -0700
From: Kees Cook <keescook@...omium.org>
To: oss-security@...ts.openwall.com
Cc: Chris Salls <chrissalls5@...il.com>
Subject: CVE-2017-5123 Linux kernel v4.13 waitid() not calling access_ok()

Hi,

Chris Salls discovered that when the waitid() syscall in Linux kernel
v4.13 was refactored, it accidentally stopped checking that the
incoming argument was pointing to userspace. This allowed local
attackers to write directly to kernel memory, which could lead to
privilege escalation.

Introduced by this commit:
https://git.kernel.org/linus/4c48abe91be03d191d0c20cc755877da2cb35622

Fixed with this commit to mainline tree:
https://git.kernel.org/linus/96ca579a1ecc943b75beba58bebb0356f6cc4b51

This should be fixed in the -stable free (in the future v4.13.7) soon:
https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?h=linux-4.13.y

Thanks,

-Kees

-- 
Kees Cook
Pixel Security
