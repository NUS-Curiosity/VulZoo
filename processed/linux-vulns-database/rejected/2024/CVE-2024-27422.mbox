From bippy-d175d3acf727 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-27422: netrom: Fix a data-race around sysctl_netrom_transport_no_activity_timeout

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

netrom: Fix a data-race around sysctl_netrom_transport_no_activity_timeout

We need to protect the reader reading the sysctl value because the
value can be changed concurrently.

The Linux kernel CVE team has assigned CVE-2024-27422 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 4.19.310 with commit 73426c32e259
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 5.4.272 with commit cbba77abb4a5
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 5.10.213 with commit 01d4e3afe257
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 5.15.152 with commit 4eacb242e22e
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 6.1.82 with commit 498f1d6da11e
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 6.6.22 with commit 2309b369fae2
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 6.7.10 with commit 6f254abae02a
	Issue introduced in 2.6.12 with commit 1da177e4c3f4 and fixed in 6.8 with commit f99b494b4043

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-27422
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	net/netrom/af_netrom.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/73426c32e259c767d40613b956d5b80d0c28a9a9
	https://git.kernel.org/stable/c/cbba77abb4a553c1f5afac1ba2a0861aa1f13549
	https://git.kernel.org/stable/c/01d4e3afe257768cd2a45f15a0e57bacf932b140
	https://git.kernel.org/stable/c/4eacb242e22e31385a50a393681d0fe4b55ed1e9
	https://git.kernel.org/stable/c/498f1d6da11ed6d736d655a2db14ee2d9569eecb
	https://git.kernel.org/stable/c/2309b369fae2d9cdc3c945cd3eaec84eb1958ca3
	https://git.kernel.org/stable/c/6f254abae02abd4a0aca062c1b3812d7e2d8ea94
	https://git.kernel.org/stable/c/f99b494b40431f0ca416859f2345746199398e2b
