From bippy-d175d3acf727 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-26908: x86/xen: Add some null pointer checking to smp.c

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

x86/xen: Add some null pointer checking to smp.c

kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure. Ensure the allocation was successful
by checking the pointer validity.

The Linux kernel CVE team has assigned CVE-2024-26908 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.19.311 with commit 70a33a629090
	Fixed in 5.4.273 with commit 025a8a96c7ef
	Fixed in 5.10.214 with commit eb279074bada
	Fixed in 5.15.153 with commit 8082bccb7ac4
	Fixed in 6.1.83 with commit f49c513f46dc
	Fixed in 6.6.23 with commit a9bbb05c0c04
	Fixed in 6.7.11 with commit d211e8128c0e
	Fixed in 6.8 with commit 3693bb4465e6

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-26908
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	arch/x86/xen/smp.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/70a33a629090130d731fc1e1ad498bb672eea165
	https://git.kernel.org/stable/c/025a8a96c7ef3ff24a9b4753a7e851ba16f11bfc
	https://git.kernel.org/stable/c/eb279074badac0bbe28749906562d648ca4bc750
	https://git.kernel.org/stable/c/8082bccb7ac480ceab89b09c53d20c78ae54f9fa
	https://git.kernel.org/stable/c/f49c513f46dc19bf01ffad2aaaf234d7f37f6799
	https://git.kernel.org/stable/c/a9bbb05c0c04b49a1f7f05fd03826321dca2b8d4
	https://git.kernel.org/stable/c/d211e8128c0e2122512fa5e859316540349b54af
	https://git.kernel.org/stable/c/3693bb4465e6e32a204a5b86d3ec7e6b9f7e67c2
