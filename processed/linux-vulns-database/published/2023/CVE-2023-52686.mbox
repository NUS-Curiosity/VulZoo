From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-52686: powerpc/powernv: Add a null pointer check in opal_event_init()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

powerpc/powernv: Add a null pointer check in opal_event_init()

kasprintf() returns a pointer to dynamically allocated memory
which can be NULL upon failure.

The Linux kernel CVE team has assigned CVE-2023-52686 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 4.19.306 with commit 8422d179cf46889c15ceff9ede48c5bfa4e7f0b4
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 5.4.268 with commit e93d7cf4c1ddbcd846739e7ad849f955a4f18031
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 5.10.209 with commit e6ad05e3ae9c84c5a71d7bb2d44dc845ae7990cf
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 5.15.148 with commit c0b111ea786ddcc8be0682612830796ece9436c7
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 6.1.75 with commit 9a523e1da6d88c2034f946adfa4f74b236c95ca9
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 6.6.14 with commit a14c55eb461d630b836f80591d8caf1f74e62877
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 6.7.2 with commit e08c2e275fa1874de945b87093f925997722ee42
	Issue introduced in 4.11 with commit 2717a33d60745f2f72e521cdaedf79b00f66f8ca and fixed in 6.8 with commit 8649829a1dd25199bbf557b2621cedb4bf9b3050

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-52686
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	arch/powerpc/platforms/powernv/opal-irqchip.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/8422d179cf46889c15ceff9ede48c5bfa4e7f0b4
	https://git.kernel.org/stable/c/e93d7cf4c1ddbcd846739e7ad849f955a4f18031
	https://git.kernel.org/stable/c/e6ad05e3ae9c84c5a71d7bb2d44dc845ae7990cf
	https://git.kernel.org/stable/c/c0b111ea786ddcc8be0682612830796ece9436c7
	https://git.kernel.org/stable/c/9a523e1da6d88c2034f946adfa4f74b236c95ca9
	https://git.kernel.org/stable/c/a14c55eb461d630b836f80591d8caf1f74e62877
	https://git.kernel.org/stable/c/e08c2e275fa1874de945b87093f925997722ee42
	https://git.kernel.org/stable/c/8649829a1dd25199bbf557b2621cedb4bf9b3050
