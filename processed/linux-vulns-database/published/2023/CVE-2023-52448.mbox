From bippy-851b3ed3d212 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2023-52448: gfs2: Fix kernel NULL pointer dereference in gfs2_rgrp_dump

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

gfs2: Fix kernel NULL pointer dereference in gfs2_rgrp_dump

Syzkaller has reported a NULL pointer dereference when accessing
rgd->rd_rgl in gfs2_rgrp_dump().  This can happen when creating
rgd->rd_gl fails in read_rindex_entry().  Add a NULL pointer check in
gfs2_rgrp_dump() to prevent that.

The Linux kernel CVE team has assigned CVE-2023-52448 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 5.4.268 with commit efc8ef87ab91
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 5.10.209 with commit 5c28478af371
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 5.15.148 with commit ee0586d73cba
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 6.1.75 with commit d69d7804cf9e
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 6.6.14 with commit 067a7c48c2c7
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 6.7.2 with commit c323efd620c7
	Issue introduced in 4.20 with commit 72244b6bc752 and fixed in 6.8 with commit 8877243beafa

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2023-52448
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	fs/gfs2/rgrp.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/efc8ef87ab9185a23d5676f2f7d986022d91bcde
	https://git.kernel.org/stable/c/5c28478af371a1c3fdb570ca67f110e1ae60fc37
	https://git.kernel.org/stable/c/ee0586d73cbaf0e7058bc640d62a9daf2dfa9178
	https://git.kernel.org/stable/c/d69d7804cf9e2ba171a27e5f98bc266f13d0414a
	https://git.kernel.org/stable/c/067a7c48c2c70f05f9460d6f0e8423e234729f05
	https://git.kernel.org/stable/c/c323efd620c741168c8e0cc6fc0be04ab57e331a
	https://git.kernel.org/stable/c/8877243beafa7c6bfc42022cbfdf9e39b25bd4fa
