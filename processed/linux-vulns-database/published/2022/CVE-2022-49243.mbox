From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-49243: ASoC: atmel: Add missing of_node_put() in at91sam9g20ek_audio_probe

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ASoC: atmel: Add missing of_node_put() in at91sam9g20ek_audio_probe

This node pointer is returned by of_parse_phandle() with refcount
incremented in this function.
Calling of_node_put() to avoid the refcount leak.

The Linux kernel CVE team has assigned CVE-2022-49243 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 4.9.311 with commit 81f266396237cea09a8c6322a6a78535f06ed345
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 4.14.276 with commit f8b7b9a0594715ecfbe6f18db2328d992242654a
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 4.19.238 with commit b0c56a0071116a37c24df998166c22a7e4684626
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.4.189 with commit 0325193cf40dc3a6e27d55a5b98680936deebcd0
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.10.110 with commit 662ee5ac6b451aa5a27b8eebd397f2f5c7f42cec
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.15.33 with commit a0bc36b247dcf4d21bf820bfc4bcbaf7f6cf19b5
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.16.19 with commit 32e6ceb05f36432811753852c674a301f944a24b
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.17.2 with commit 4793a02deb31b71b3984abc67bf1011a03c13b18
	Issue introduced in 3.8 with commit 531f67e41dcde1e358cf821d056241a66355cf03 and fixed in 5.18 with commit f590797fa3c1bccdd19e55441592a23b46aef449

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-49243
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	sound/soc/atmel/sam9g20_wm8731.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/81f266396237cea09a8c6322a6a78535f06ed345
	https://git.kernel.org/stable/c/f8b7b9a0594715ecfbe6f18db2328d992242654a
	https://git.kernel.org/stable/c/b0c56a0071116a37c24df998166c22a7e4684626
	https://git.kernel.org/stable/c/0325193cf40dc3a6e27d55a5b98680936deebcd0
	https://git.kernel.org/stable/c/662ee5ac6b451aa5a27b8eebd397f2f5c7f42cec
	https://git.kernel.org/stable/c/a0bc36b247dcf4d21bf820bfc4bcbaf7f6cf19b5
	https://git.kernel.org/stable/c/32e6ceb05f36432811753852c674a301f944a24b
	https://git.kernel.org/stable/c/4793a02deb31b71b3984abc67bf1011a03c13b18
	https://git.kernel.org/stable/c/f590797fa3c1bccdd19e55441592a23b46aef449
