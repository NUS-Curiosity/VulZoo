From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-48949: igb: Initialize mailbox message for VF reset

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

igb: Initialize mailbox message for VF reset

When a MAC address is not assigned to the VF, that portion of the message
sent to the VF is not set. The memory, however, is allocated from the
stack meaning that information may be leaked to the VM. Initialize the
message buffer to 0 so that no information is passed to the VM in this
case.

The Linux kernel CVE team has assigned CVE-2022-48949 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 4.14.303 with commit a6629659af3f5c6a91e3914ea62554c975ab77f4
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 4.19.270 with commit ef1d739dd1f362aec081278ff92f943c31eb177a
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 5.4.229 with commit c581439a977545d61849a72e8ed631cfc8a2a3c1
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 5.10.161 with commit f2479c3daaabccbac6c343a737615d0c595c6dc4
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 5.15.85 with commit 367e1e3399dbc56fc669740c4ab60e35da632b0e
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 6.0.15 with commit 51fd5ede7ed42f272682a0c33d6f0767b3484a3d
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 6.1.1 with commit c383c7c35c7bc15e07a04eefa060a8a80cbeae29
	Issue introduced in 4.0 with commit 6ddbc4cf1f4d5a3a58b4223c80881f299dae3774 and fixed in 6.2 with commit de5dc44370fbd6b46bd7f1a1e00369be54a041c8

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-48949
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/ethernet/intel/igb/igb_main.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a6629659af3f5c6a91e3914ea62554c975ab77f4
	https://git.kernel.org/stable/c/ef1d739dd1f362aec081278ff92f943c31eb177a
	https://git.kernel.org/stable/c/c581439a977545d61849a72e8ed631cfc8a2a3c1
	https://git.kernel.org/stable/c/f2479c3daaabccbac6c343a737615d0c595c6dc4
	https://git.kernel.org/stable/c/367e1e3399dbc56fc669740c4ab60e35da632b0e
	https://git.kernel.org/stable/c/51fd5ede7ed42f272682a0c33d6f0767b3484a3d
	https://git.kernel.org/stable/c/c383c7c35c7bc15e07a04eefa060a8a80cbeae29
	https://git.kernel.org/stable/c/de5dc44370fbd6b46bd7f1a1e00369be54a041c8
