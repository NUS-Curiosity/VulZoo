From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-49237: ath11k: add missing of_node_put() to avoid leak

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

ath11k: add missing of_node_put() to avoid leak

The node pointer is returned by of_find_node_by_type()
or of_parse_phandle() with refcount incremented. Calling
of_node_put() to aovid the refcount leak.

The Linux kernel CVE team has assigned CVE-2022-49237 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.17 with commit 6ac04bdc5edb418787ab2040b1f922c23464c750 and fixed in 5.17.2 with commit 7d51cb010b20d70b16dc6e4341bf29d6c5b32564
	Issue introduced in 5.17 with commit 6ac04bdc5edb418787ab2040b1f922c23464c750 and fixed in 5.18 with commit 3d38faef0de1756994b3d95e47b2302842f729e2

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-49237
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/wireless/ath/ath11k/mhi.c
	drivers/net/wireless/ath/ath11k/qmi.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/7d51cb010b20d70b16dc6e4341bf29d6c5b32564
	https://git.kernel.org/stable/c/3d38faef0de1756994b3d95e47b2302842f729e2
