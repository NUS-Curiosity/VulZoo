From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-49475: spi: spi-fsl-qspi: check return value after calling platform_get_resource_byname()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

spi: spi-fsl-qspi: check return value after calling platform_get_resource_byname()

It will cause null-ptr-deref if platform_get_resource_byname() returns NULL,
we need check the return value.

The Linux kernel CVE team has assigned CVE-2022-49475 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.8 with commit 858e26a515c28df3ef542d9c09493b54a329d6cf and fixed in 5.10.121 with commit 560dcbe1c7a78f597f2167371ebdbe2bca3d0735
	Issue introduced in 5.8 with commit 858e26a515c28df3ef542d9c09493b54a329d6cf and fixed in 5.15.46 with commit 10f537219629769498ecb8515e096be213224c24
	Issue introduced in 5.8 with commit 858e26a515c28df3ef542d9c09493b54a329d6cf and fixed in 5.17.14 with commit 33dda87d04598ac5d9a849218a373443f7d3de66
	Issue introduced in 5.8 with commit 858e26a515c28df3ef542d9c09493b54a329d6cf and fixed in 5.18.3 with commit 9d9c84825c3ec359b165c762a424cfdefe87fdd7
	Issue introduced in 5.8 with commit 858e26a515c28df3ef542d9c09493b54a329d6cf and fixed in 5.19 with commit a2b331ac11e1cac56f5b7d367e9f3c5796deaaed

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-49475
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/spi/spi-fsl-qspi.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/560dcbe1c7a78f597f2167371ebdbe2bca3d0735
	https://git.kernel.org/stable/c/10f537219629769498ecb8515e096be213224c24
	https://git.kernel.org/stable/c/33dda87d04598ac5d9a849218a373443f7d3de66
	https://git.kernel.org/stable/c/9d9c84825c3ec359b165c762a424cfdefe87fdd7
	https://git.kernel.org/stable/c/a2b331ac11e1cac56f5b7d367e9f3c5796deaaed
