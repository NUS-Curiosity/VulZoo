From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2022-49682: xtensa: Fix refcount leak bug in time.c

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

xtensa: Fix refcount leak bug in time.c

In calibrate_ccount(), of_find_compatible_node() will return a node
pointer with refcount incremented. We should use of_node_put() when
it is not used anymore.

The Linux kernel CVE team has assigned CVE-2022-49682 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.9.321 with commit 3e5eb904d9ba657308fc75a5de434b0e58dcb8d7
	Fixed in 4.14.286 with commit 7de4502af68f4f3932f450157f5483eb7b33cb74
	Fixed in 4.19.250 with commit f1eaf4ba5372ad111f687a80c67e270708e14c23
	Fixed in 5.4.202 with commit e5234a9d64a976abd134a14710dcd5188158a7c5
	Fixed in 5.10.127 with commit af0ff2da01521144bc11194f4c26485d7c9cee73
	Fixed in 5.15.51 with commit 0dcc1dd8a5dd9240639f1051dfaa2dffc9fbbde5
	Fixed in 5.18.8 with commit 0e403a383c14b63c86bd9df085b7e573e9caee64
	Fixed in 5.19 with commit a0117dc956429f2ede17b323046e1968d1849150

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2022-49682
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	arch/xtensa/kernel/time.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/3e5eb904d9ba657308fc75a5de434b0e58dcb8d7
	https://git.kernel.org/stable/c/7de4502af68f4f3932f450157f5483eb7b33cb74
	https://git.kernel.org/stable/c/f1eaf4ba5372ad111f687a80c67e270708e14c23
	https://git.kernel.org/stable/c/e5234a9d64a976abd134a14710dcd5188158a7c5
	https://git.kernel.org/stable/c/af0ff2da01521144bc11194f4c26485d7c9cee73
	https://git.kernel.org/stable/c/0dcc1dd8a5dd9240639f1051dfaa2dffc9fbbde5
	https://git.kernel.org/stable/c/0e403a383c14b63c86bd9df085b7e573e9caee64
	https://git.kernel.org/stable/c/a0117dc956429f2ede17b323046e1968d1849150
