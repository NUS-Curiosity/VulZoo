From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-46844: um: line: always fill *error_out in setup_one_line()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

um: line: always fill *error_out in setup_one_line()

The pointer isn't initialized by callers, but I have
encountered cases where it's still printed; initialize
it in all possible cases in setup_one_line().

The Linux kernel CVE team has assigned CVE-2024-46844 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.19.322 with commit 3bedb7ce080690d0d6172db790790c1219bcbdd5
	Fixed in 5.4.284 with commit 96301fdc2d533a196197c055af875fe33d47ef84
	Fixed in 5.10.226 with commit c8944d449fda9f58c03bd99649b2df09948fc874
	Fixed in 5.15.167 with commit 43f782c27907f306c664b6614fd6f264ac32cce6
	Fixed in 6.1.110 with commit 289979d64573f43df1d0e6bc6435de63a0d69cdf
	Fixed in 6.6.51 with commit ec5b47a370177d79ae7773858042c107e21f8ecc
	Fixed in 6.10.10 with commit fc843d3837ebcb1c16d3768ef3eb55e25d5331f2
	Fixed in 6.11 with commit 824ac4a5edd3f7494ab1996826c4f47f8ef0f63d

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-46844
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	arch/um/drivers/line.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/3bedb7ce080690d0d6172db790790c1219bcbdd5
	https://git.kernel.org/stable/c/96301fdc2d533a196197c055af875fe33d47ef84
	https://git.kernel.org/stable/c/c8944d449fda9f58c03bd99649b2df09948fc874
	https://git.kernel.org/stable/c/43f782c27907f306c664b6614fd6f264ac32cce6
	https://git.kernel.org/stable/c/289979d64573f43df1d0e6bc6435de63a0d69cdf
	https://git.kernel.org/stable/c/ec5b47a370177d79ae7773858042c107e21f8ecc
	https://git.kernel.org/stable/c/fc843d3837ebcb1c16d3768ef3eb55e25d5331f2
	https://git.kernel.org/stable/c/824ac4a5edd3f7494ab1996826c4f47f8ef0f63d
