From bippy-d175d3acf727 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-27076: media: imx: csc/scaler: fix v4l2_ctrl_handler memory leak

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

media: imx: csc/scaler: fix v4l2_ctrl_handler memory leak

Free the memory allocated in v4l2_ctrl_handler_init on release.

The Linux kernel CVE team has assigned CVE-2024-27076 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 5.4.273 with commit 8c2e4efe1278
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 5.10.214 with commit 5d9fe604bf9b
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 5.15.153 with commit b1d0eebaf87c
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 6.1.83 with commit 8df9a3c7044b
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 6.6.23 with commit d164ddc21e98
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 6.7.11 with commit 42492b00156c
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 6.8.2 with commit 6c92224721a4
	Issue introduced in 5.4 with commit a8ef0488cc59 and fixed in 6.9 with commit 4797a3dd46f2

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-27076
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/staging/media/imx/imx-media-csc-scaler.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/8c2e4efe1278cd2b230cdbf90a6cefbf00acc282
	https://git.kernel.org/stable/c/5d9fe604bf9b5b09d2215225df55f22a4cbbc684
	https://git.kernel.org/stable/c/b1d0eebaf87cc9ccd05f779ec4a0589f95d6c18b
	https://git.kernel.org/stable/c/8df9a3c7044b847e9c4dc7e683fd64c6b873f328
	https://git.kernel.org/stable/c/d164ddc21e986dd9ad614b4b01746e5457aeb24f
	https://git.kernel.org/stable/c/42492b00156c03a79fd4851190aa63045d6a15ce
	https://git.kernel.org/stable/c/6c92224721a439d6350db5933a1060768dcd565e
	https://git.kernel.org/stable/c/4797a3dd46f220e6d83daf54d70c5b33db6deb01
