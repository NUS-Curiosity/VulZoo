From bippy-c9c4e1df01b2 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-42119: drm/amd/display: Skip finding free audio for unknown engine_id

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

drm/amd/display: Skip finding free audio for unknown engine_id

[WHY]
ENGINE_ID_UNKNOWN = -1 and can not be used as an array index. Plus, it
also means it is uninitialized and does not need free audio.

[HOW]
Skip and return NULL.

This fixes 2 OVERRUN issues reported by Coverity.

The Linux kernel CVE team has assigned CVE-2024-42119 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.19.318 with commit 9eb4db08a808
	Fixed in 5.4.280 with commit eacca028a623
	Fixed in 5.10.222 with commit ffa7bd3ca9cf
	Fixed in 5.15.163 with commit afaaebdee9bb
	Fixed in 6.1.98 with commit 874261358d31
	Fixed in 6.6.39 with commit 95ad20ee3c4e
	Fixed in 6.9.9 with commit 881fb6afc000
	Fixed in 6.10 with commit 1357b2165d9a

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-42119
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/gpu/drm/amd/display/dc/core/dc_resource.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/9eb4db08a808e3a3ba59193aeb84a57a6dc4d8c9
	https://git.kernel.org/stable/c/eacca028a623f608607d02457122ee5284491e18
	https://git.kernel.org/stable/c/ffa7bd3ca9cfa902b857d1dc9a5f46fededf86c8
	https://git.kernel.org/stable/c/afaaebdee9bb9f26d9e13cc34b33bd0a7bf59488
	https://git.kernel.org/stable/c/874261358d31fc772f2823604167e670983cc1ca
	https://git.kernel.org/stable/c/95ad20ee3c4efbb91f9a4ab08e070aa3697f5879
	https://git.kernel.org/stable/c/881fb6afc0004c5e6392ae2848f825bf051dae14
	https://git.kernel.org/stable/c/1357b2165d9ad94faa4c4a20d5e2ce29c2ff29c3
