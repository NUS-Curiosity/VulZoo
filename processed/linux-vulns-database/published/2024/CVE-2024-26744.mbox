From bippy-851b3ed3d212 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-26744: RDMA/srpt: Support specifying the srpt_service_guid parameter

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

RDMA/srpt: Support specifying the srpt_service_guid parameter

Make loading ib_srpt with this parameter set work. The current behavior is
that setting that parameter while loading the ib_srpt kernel module
triggers the following kernel crash:

BUG: kernel NULL pointer dereference, address: 0000000000000000
Call Trace:
 <TASK>
 parse_one+0x18c/0x1d0
 parse_args+0xe1/0x230
 load_module+0x8de/0xa60
 init_module_from_file+0x8b/0xd0
 idempotent_init_module+0x181/0x240
 __x64_sys_finit_module+0x5a/0xb0
 do_syscall_64+0x5f/0xe0
 entry_SYSCALL_64_after_hwframe+0x6e/0x76

The Linux kernel CVE team has assigned CVE-2024-26744 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 4.19.308 with commit 84f1dac960cf
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 5.10.211 with commit 5a5c039dac1b
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 5.15.150 with commit 989af2f29342
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 6.1.80 with commit aee4dcfe1721
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 6.6.19 with commit fe2a73d57319
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 6.7.7 with commit c99a827d3cff
	Issue introduced in 3.3 with commit a42d985bd5b2 and fixed in 6.8 with commit fdfa083549de

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-26744
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/infiniband/ulp/srpt/ib_srpt.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/84f1dac960cfa210a3b7a7522e6c2320ae91932b
	https://git.kernel.org/stable/c/5a5c039dac1b1b7ba3e91c791f4421052bf79b82
	https://git.kernel.org/stable/c/989af2f29342a9a7c7515523d879b698ac8465f4
	https://git.kernel.org/stable/c/aee4dcfe17219fe60f2821923adea98549060af8
	https://git.kernel.org/stable/c/fe2a73d57319feab4b3b175945671ce43492172f
	https://git.kernel.org/stable/c/c99a827d3cff9f84e1cb997b7cc6386d107aa74d
	https://git.kernel.org/stable/c/fdfa083549de5d50ebf7f6811f33757781e838c0
