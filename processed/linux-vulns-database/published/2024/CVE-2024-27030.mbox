From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-27030: octeontx2-af: Use separate handlers for interrupts

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

octeontx2-af: Use separate handlers for interrupts

For PF to AF interrupt vector and VF to AF vector same
interrupt handler is registered which is causing race condition.
When two interrupts are raised to two CPUs at same time
then two cores serve same event corrupting the data.

The Linux kernel CVE team has assigned CVE-2024-27030 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 5.4.273 with commit 94cb17e5cf3a3c484063abc0ce4b8a2b2e8c1cb2
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 5.10.214 with commit 766c2627acb2d9d1722cce2e24837044d52d888a
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 5.15.153 with commit 772f18ded0e240cc1fa2b7020cc640e3e5c32b70
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 6.1.83 with commit 29d2550d79a8cbd31e0fbaa5c0e2a2efdc444e44
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 6.6.23 with commit dc29dd00705a62c77de75b6d752259b869aac49d
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 6.7.11 with commit ad6759e233db6fcc131055f8e23b4eafbe81053c
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 6.8.2 with commit 4fedae8f9eafa2ac8cdaca58e315f52a7e2a8701
	Issue introduced in 4.20 with commit 7304ac4567bcb72fd57cc79582bf53ca7840136f and fixed in 6.9 with commit 50e60de381c342008c0956fd762e1c26408f372c

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-27030
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/net/ethernet/marvell/octeontx2/af/rvu.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/94cb17e5cf3a3c484063abc0ce4b8a2b2e8c1cb2
	https://git.kernel.org/stable/c/766c2627acb2d9d1722cce2e24837044d52d888a
	https://git.kernel.org/stable/c/772f18ded0e240cc1fa2b7020cc640e3e5c32b70
	https://git.kernel.org/stable/c/29d2550d79a8cbd31e0fbaa5c0e2a2efdc444e44
	https://git.kernel.org/stable/c/dc29dd00705a62c77de75b6d752259b869aac49d
	https://git.kernel.org/stable/c/ad6759e233db6fcc131055f8e23b4eafbe81053c
	https://git.kernel.org/stable/c/4fedae8f9eafa2ac8cdaca58e315f52a7e2a8701
	https://git.kernel.org/stable/c/50e60de381c342008c0956fd762e1c26408f372c
