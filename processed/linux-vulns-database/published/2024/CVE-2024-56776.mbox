From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-56776: drm/sti: avoid potential dereference of error pointers

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

drm/sti: avoid potential dereference of error pointers

The return value of drm_atomic_get_crtc_state() needs to be
checked. To avoid use of error pointer 'crtc_state' in case
of the failure.

The Linux kernel CVE team has assigned CVE-2024-56776 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.6 with commit dd86dc2f9ae1102f46115be1f1422265c15540f1 and fixed in 5.15.174 with commit e98ff67f5a68114804607de549c2350d27628fc7
	Issue introduced in 4.6 with commit dd86dc2f9ae1102f46115be1f1422265c15540f1 and fixed in 6.1.120 with commit 40725c5fabee804fecce41d4d5c5bae80c45e1c4
	Issue introduced in 4.6 with commit dd86dc2f9ae1102f46115be1f1422265c15540f1 and fixed in 6.6.64 with commit 8ab73ac97c0fa528f66eeccd9bb53eb6eb7d20dc
	Issue introduced in 4.6 with commit dd86dc2f9ae1102f46115be1f1422265c15540f1 and fixed in 6.12.4 with commit f67786293193cf01ebcc6fdbcbd1587b24f52679
	Issue introduced in 4.6 with commit dd86dc2f9ae1102f46115be1f1422265c15540f1 and fixed in 6.13 with commit 831214f77037de02afc287eae93ce97f218d8c04

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-56776
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/gpu/drm/sti/sti_cursor.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/e98ff67f5a68114804607de549c2350d27628fc7
	https://git.kernel.org/stable/c/40725c5fabee804fecce41d4d5c5bae80c45e1c4
	https://git.kernel.org/stable/c/8ab73ac97c0fa528f66eeccd9bb53eb6eb7d20dc
	https://git.kernel.org/stable/c/f67786293193cf01ebcc6fdbcbd1587b24f52679
	https://git.kernel.org/stable/c/831214f77037de02afc287eae93ce97f218d8c04
