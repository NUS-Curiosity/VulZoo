From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-50180: fbdev: sisfb: Fix strbuf array overflow

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

fbdev: sisfb: Fix strbuf array overflow

The values of the variables xres and yres are placed in strbuf.
These variables are obtained from strbuf1.
The strbuf1 array contains digit characters
and a space if the array contains non-digit characters.
Then, when executing sprintf(strbuf, "%ux%ux8", xres, yres);
more than 16 bytes will be written to strbuf.
It is suggested to increase the size of the strbuf array to 24.

Found by Linux Verification Center (linuxtesting.org) with SVACE.

The Linux kernel CVE team has assigned CVE-2024-50180 to this issue.


Affected and fixed versions
===========================

	Fixed in 4.19.323 with commit 433c84c8495008922534c5cafdae6ff970fb3241
	Fixed in 5.4.285 with commit 57c4f4db0a194416da237fd09dad9527e00cb587
	Fixed in 5.10.227 with commit 252f147b1826cbb30ae0304cf86b66d3bb12b743
	Fixed in 5.15.168 with commit 41cf6f26abe4f491b694c54bd1aa2530369b7510
	Fixed in 6.1.113 with commit 889304120ecb2ca30674d89cd4ef15990b6a571c
	Fixed in 6.6.57 with commit 688872c4ea4a528cd6a057d545c83506b533ee1f
	Fixed in 6.11.4 with commit 11c0d49093b82f6c547fd419c41a982d26bdf5ef
	Fixed in 6.12 with commit 9cf14f5a2746c19455ce9cb44341b5527b5e19c3

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-50180
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/video/fbdev/sis/sis_main.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/433c84c8495008922534c5cafdae6ff970fb3241
	https://git.kernel.org/stable/c/57c4f4db0a194416da237fd09dad9527e00cb587
	https://git.kernel.org/stable/c/252f147b1826cbb30ae0304cf86b66d3bb12b743
	https://git.kernel.org/stable/c/41cf6f26abe4f491b694c54bd1aa2530369b7510
	https://git.kernel.org/stable/c/889304120ecb2ca30674d89cd4ef15990b6a571c
	https://git.kernel.org/stable/c/688872c4ea4a528cd6a057d545c83506b533ee1f
	https://git.kernel.org/stable/c/11c0d49093b82f6c547fd419c41a982d26bdf5ef
	https://git.kernel.org/stable/c/9cf14f5a2746c19455ce9cb44341b5527b5e19c3
