From bippy-c9c4e1df01b2 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-41060: drm/radeon: check bo_va->bo is non-NULL before using it

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

drm/radeon: check bo_va->bo is non-NULL before using it

The call to radeon_vm_clear_freed might clear bo_va->bo, so
we have to check it before dereferencing it.

The Linux kernel CVE team has assigned CVE-2024-41060 to this issue.


Affected and fixed versions
===========================

	Fixed in 5.15.164 with commit a2b201f83971
	Fixed in 6.1.101 with commit a9100f17428c
	Fixed in 6.6.42 with commit f13c96e0e325
	Fixed in 6.9.11 with commit 8a500b3a5f0a
	Fixed in 6.10 with commit 6fb15dcbcf4f

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-41060
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/gpu/drm/radeon/radeon_gem.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/a2b201f83971df03c8e81a480b2f2846ae8ce1a3
	https://git.kernel.org/stable/c/a9100f17428cb733c4f6fbb132d98bed76318342
	https://git.kernel.org/stable/c/f13c96e0e325a057c03f8a47734adb360e112efe
	https://git.kernel.org/stable/c/8a500b3a5f0a58c6f99039091fbd715f64f2f8af
	https://git.kernel.org/stable/c/6fb15dcbcf4f212930350eaee174bb60ed40a536
