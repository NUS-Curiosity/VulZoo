From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-27024: net/rds: fix WARNING in rds_conn_connect_if_down

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

net/rds: fix WARNING in rds_conn_connect_if_down

If connection isn't established yet, get_mr() will fail, trigger connection after
get_mr().

The Linux kernel CVE team has assigned CVE-2024-27024 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 4.19.310 with commit 786854141057751bc08eb26f1b02e97c1631c8f4
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 5.4.272 with commit 997efea2bf3a4adb96c306b9ad6a91442237bf5b
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 5.10.213 with commit 9dfc15a10dfd44f8ff7f27488651cb5be6af83c2
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 5.15.152 with commit b562ebe21ed9adcf42242797dd6cb75beef12bf0
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 6.1.82 with commit 998fd719e6d6468b930ac0c44552ea9ff8b07b80
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 6.6.22 with commit 2b505d05280739ce31d5708da840f42df827cb85
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 6.7.10 with commit 907761307469adecb02461a14120e9a1812a5fb1
	Issue introduced in 4.11 with commit 584a8279a44a800dea5a5c1e9d53a002e03016b4 and fixed in 6.8 with commit c055fc00c07be1f0df7375ab0036cebd1106ed38
	Issue introduced in 3.18.85 with commit 952835ccd917682ebb705f89ff1e56fbf068a1d8
	Issue introduced in 4.1.48 with commit 783941bd9f445a37c2854ec0b4cb9f9e603193a7
	Issue introduced in 4.4.103 with commit 57d2ce1603101ce3f30d0ccdc35b98af08d2ed88
	Issue introduced in 4.9.66 with commit 5ba1957f889f575f2a240eafe543c3fda5aa72e0

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-27024
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	net/rds/rdma.c
	net/rds/send.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/786854141057751bc08eb26f1b02e97c1631c8f4
	https://git.kernel.org/stable/c/997efea2bf3a4adb96c306b9ad6a91442237bf5b
	https://git.kernel.org/stable/c/9dfc15a10dfd44f8ff7f27488651cb5be6af83c2
	https://git.kernel.org/stable/c/b562ebe21ed9adcf42242797dd6cb75beef12bf0
	https://git.kernel.org/stable/c/998fd719e6d6468b930ac0c44552ea9ff8b07b80
	https://git.kernel.org/stable/c/2b505d05280739ce31d5708da840f42df827cb85
	https://git.kernel.org/stable/c/907761307469adecb02461a14120e9a1812a5fb1
	https://git.kernel.org/stable/c/c055fc00c07be1f0df7375ab0036cebd1106ed38
