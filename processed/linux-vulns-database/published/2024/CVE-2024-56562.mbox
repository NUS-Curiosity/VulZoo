From bippy-5f407fcff5a0 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
To: <linux-cve-announce@vger.kernel.org>
Reply-to: <cve@kernel.org>, <linux-kernel@vger.kernel.org>
Subject: CVE-2024-56562: i3c: master: Fix miss free init_dyn_addr at i3c_master_put_i3c_addrs()

Description
===========

In the Linux kernel, the following vulnerability has been resolved:

i3c: master: Fix miss free init_dyn_addr at i3c_master_put_i3c_addrs()

if (dev->boardinfo && dev->boardinfo->init_dyn_addr)
                                      ^^^ here check "init_dyn_addr"
	i3c_bus_set_addr_slot_status(&master->bus, dev->info.dyn_addr, ...)
						             ^^^^
							free "dyn_addr"
Fix copy/paste error "dyn_addr" by replacing it with "init_dyn_addr".

The Linux kernel CVE team has assigned CVE-2024-56562 to this issue.


Affected and fixed versions
===========================

	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 5.4.287 with commit c2f0ce241154b04f2fc150ff16ad82d9b8fdfa4a
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 5.10.231 with commit 093ecc6d82ff1d2e0cbf6f2000438b6c698145cb
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 5.15.174 with commit 0cb21f1ea3a2e19ee314a8fcf95461b5c453c59e
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 6.1.120 with commit 991e33a99fd3b5d432f0629565f532f563fe019a
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 6.6.64 with commit ce30d11b39e8d637fed4704a5b43e9d556990475
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 6.12.4 with commit 0e8ab955c6d06f9d907761c07c02d1492f0a8ac1
	Issue introduced in 5.0 with commit 3a379bbcea0af6280e1ca0d1edfcf4e68cde6ee0 and fixed in 6.13 with commit 3082990592f7c6d7510a9133afa46e31bbe26533

Please see https://www.kernel.org for a full list of currently supported
kernel versions by the kernel community.

Unaffected versions might change over time as fixes are backported to
older supported kernel versions.  The official CVE entry at
	https://cve.org/CVERecord/?id=CVE-2024-56562
will be updated if fixes are backported, please check that for the most
up to date information about this issue.


Affected files
==============

The file(s) affected by this issue are:
	drivers/i3c/master.c


Mitigation
==========

The Linux kernel CVE team recommends that you update to the latest
stable kernel version for this, and many other bugfixes.  Individual
changes are never tested alone, but rather are part of a larger kernel
release.  Cherry-picking individual commits is not recommended or
supported by the Linux kernel community at all.  If however, updating to
the latest release is impossible, the individual changes to resolve this
issue can be found at these commits:
	https://git.kernel.org/stable/c/c2f0ce241154b04f2fc150ff16ad82d9b8fdfa4a
	https://git.kernel.org/stable/c/093ecc6d82ff1d2e0cbf6f2000438b6c698145cb
	https://git.kernel.org/stable/c/0cb21f1ea3a2e19ee314a8fcf95461b5c453c59e
	https://git.kernel.org/stable/c/991e33a99fd3b5d432f0629565f532f563fe019a
	https://git.kernel.org/stable/c/ce30d11b39e8d637fed4704a5b43e9d556990475
	https://git.kernel.org/stable/c/0e8ab955c6d06f9d907761c07c02d1492f0a8ac1
	https://git.kernel.org/stable/c/3082990592f7c6d7510a9133afa46e31bbe26533
