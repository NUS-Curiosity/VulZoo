{
   "containers": {
      "cna": {
         "providerMetadata": {
            "orgId": "f4215fc3-5b6b-47ff-a258-f7189bd81038"
         },
         "descriptions": [
            {
               "lang": "en",
               "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nxprtrdma: Fix cwnd update ordering\n\nAfter a reconnect, the reply handler is opening the cwnd (and thus\nenabling more RPC Calls to be sent) /before/ rpcrdma_post_recvs()\ncan post enough Receive WRs to receive their replies. This causes an\nRNR and the new connection is lost immediately.\n\nThe race is most clearly exposed when KASAN and disconnect injection\nare enabled. This slows down rpcrdma_rep_create() enough to allow\nthe send side to post a bunch of RPC Calls before the Receive\ncompletion handler can invoke ib_post_recv()."
            }
         ],
         "affected": [
            {
               "product": "Linux",
               "vendor": "Linux",
               "defaultStatus": "unaffected",
               "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
               "programFiles": [
                  "net/sunrpc/xprtrdma/rpc_rdma.c",
                  "net/sunrpc/xprtrdma/verbs.c",
                  "net/sunrpc/xprtrdma/xprt_rdma.h"
               ],
               "versions": [
                  {
                     "version": "2ae50ad68cd7",
                     "lessThan": "eddae8be7944",
                     "status": "affected",
                     "versionType": "git"
                  },
                  {
                     "version": "2ae50ad68cd7",
                     "lessThan": "8834ecb5df22",
                     "status": "affected",
                     "versionType": "git"
                  },
                  {
                     "version": "2ae50ad68cd7",
                     "lessThan": "19b5fa9489b5",
                     "status": "affected",
                     "versionType": "git"
                  },
                  {
                     "version": "2ae50ad68cd7",
                     "lessThan": "35d8b10a2588",
                     "status": "affected",
                     "versionType": "git"
                  }
               ]
            },
            {
               "product": "Linux",
               "vendor": "Linux",
               "defaultStatus": "affected",
               "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
               "programFiles": [
                  "net/sunrpc/xprtrdma/rpc_rdma.c",
                  "net/sunrpc/xprtrdma/verbs.c",
                  "net/sunrpc/xprtrdma/xprt_rdma.h"
               ],
               "versions": [
                  {
                     "version": "5.5",
                     "status": "affected"
                  },
                  {
                     "version": "0",
                     "lessThan": "5.5",
                     "status": "unaffected",
                     "versionType": "custom"
                  },
                  {
                     "version": "5.10.38",
                     "lessThanOrEqual": "5.10.*",
                     "status": "unaffected",
                     "versionType": "custom"
                  },
                  {
                     "version": "5.11.22",
                     "lessThanOrEqual": "5.11.*",
                     "status": "unaffected",
                     "versionType": "custom"
                  },
                  {
                     "version": "5.12.5",
                     "lessThanOrEqual": "5.12.*",
                     "status": "unaffected",
                     "versionType": "custom"
                  },
                  {
                     "version": "5.13",
                     "lessThanOrEqual": "*",
                     "status": "unaffected",
                     "versionType": "original_commit_for_fix"
                  }
               ]
            }
         ],
         "references": [
            {
               "url": "https://git.kernel.org/stable/c/eddae8be7944096419c2ae29477a45f767d0fcd4"
            },
            {
               "url": "https://git.kernel.org/stable/c/8834ecb5df22b7ff3c9b0deba7726579bb613f95"
            },
            {
               "url": "https://git.kernel.org/stable/c/19b5fa9489b5706bc878c3a522a7f771079e2fa0"
            },
            {
               "url": "https://git.kernel.org/stable/c/35d8b10a25884050bb3b0149b62c3818ec59f77c"
            }
         ],
         "title": "xprtrdma: Fix cwnd update ordering",
         "x_generator": {
            "engine": "bippy-a5840b7849dd"
         }
      }
   },
   "cveMetadata": {
      "assignerOrgId": "f4215fc3-5b6b-47ff-a258-f7189bd81038",
      "cveID": "CVE-2021-47001",
      "requesterUserId": "gregkh@kernel.org",
      "serial": "1",
      "state": "PUBLISHED"
   },
   "dataType": "CVE_RECORD",
   "dataVersion": "5.0"
}
