diff --git a/lib/Lenio.pm b/lib/Lenio.pm
index 99b942f..0f1aced 100644
--- a/lib/Lenio.pm
+++ b/lib/Lenio.pm
@@ -646,6 +646,9 @@ any ['get', 'post'] => '/ticket/:id?' => require_login sub {
     }
     elsif (defined($id) && !body_parameters->get('submit'))
     {
+        my $site_id = query_parameters->get('site_id')
+            ? int(query_parameters->get('site_id'))
+            : session('site_id');
         # If applicable, Prefill ticket fields with initial values based on task
         if ($task)
         {
@@ -660,13 +663,13 @@ any ['get', 'post'] => '/ticket/:id?' => require_login sub {
                     planned     => $date,
                     actionee    => $task->global ? 'external' : 'local',
                     task_id     => $task->id,
-                    site_id     => query_parameters->get('site_id') || session('site_id'),
+                    site_id     => $site_id,
                 });
             }
         }
         else {
             $ticket = rset('Ticket')->new({
-                site_id => query_parameters->get('site_id') || session('site_id'),
+                site_id => $site_id,
             });
         }
     }
