diff --git a/code_igniter/application/helpers/output_helper.php b/code_igniter/application/helpers/output_helper.php
index 270f6f513..dfab1bbc3 100644
--- a/code_igniter/application/helpers/output_helper.php
+++ b/code_igniter/application/helpers/output_helper.php
@@ -1076,12 +1076,7 @@ function output_convert($data)
 
     function create_url($query_parameters = null)
     {
-        $CI = & get_instance();
-        $proto = 'http://';
-        if ($CI->config->config['is_ssl'] === true) {
-            $proto = 'https://';
-        }
-        $link = $proto . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'] . '?';
+        $link = '?';
         if (!empty($query_parameters)) {
             for ($i=0; $i < count($query_parameters); $i++) {
                 if (!empty($query_parameters[$i]->name)) {
