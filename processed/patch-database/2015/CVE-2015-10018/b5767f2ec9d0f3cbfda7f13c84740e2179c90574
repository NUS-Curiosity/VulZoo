diff --git a/controllers/D2filesController.php b/controllers/D2filesController.php
index 125f50e..ff03162 100644
--- a/controllers/D2filesController.php
+++ b/controllers/D2filesController.php
@@ -114,7 +114,7 @@ public function actionUpload($model_name, $model_id) {
         //if (!Yii::app()->user->checkAccess($model_name . '.uploadD2File')) {
         D2files::extendedCheckAccess($model_name . '.uploadD2File');
         
-        if (!$this->performReadValidation($model_name, $model_id)) {
+        if (!$this->performReadValidation($model_name, (int)$model_id)) {
             throw new CHttpException(403, Yii::t("D2filesModule.model","You are not authorized to perform this action."));
         }
 
@@ -122,7 +122,7 @@ public function actionUpload($model_name, $model_id) {
         $oUploadHandler = new UploadHandlerD2files(
                         array(
                             'model_name' => $model_name,
-                            'model_id' => $model_id,
+                            'model_id' => (int)$model_id,
                         )
         );
         
@@ -175,7 +175,7 @@ public function actionDownloadFile($id) {
         $oUploadHandler = new UploadHandlerD2files(
                         array(
                             'model_name' => $model->model,
-                            'model_id' => $id,
+                            'model_id' => (int)$id,
                             'download_via_php' => TRUE,
                             'file_name' => $model->file_name,
                         )
