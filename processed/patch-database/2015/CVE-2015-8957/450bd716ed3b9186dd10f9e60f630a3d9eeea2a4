diff --git a/MagickCore/composite.c b/MagickCore/composite.c
index f211a266e63..9c8a5ed6247 100644
--- a/MagickCore/composite.c
+++ b/MagickCore/composite.c
@@ -2305,7 +2305,7 @@ if (0)
             break;
           }
         }
-        q[i]=ClampToQuantum(pixel);
+        q[i]=ClampPixel(pixel);
       }
       p+=GetPixelChannels(composite_image);
       channels=GetPixelChannels(composite_image);
diff --git a/MagickCore/pixel-accessor.h b/MagickCore/pixel-accessor.h
index 2b9b0603baf..79ddb725f34 100644
--- a/MagickCore/pixel-accessor.h
+++ b/MagickCore/pixel-accessor.h
@@ -31,6 +31,19 @@ extern "C" {
 
 #undef index
 
+static inline Quantum ClampPixel(const MagickRealType value)
+{
+#if !defined(MAGICKCORE_HDRI_SUPPORT)
+  return((Quantum) value);
+#else
+  if (value < 0.0)
+    return((Quantum) 0.0);
+  if (value >= (MagickRealType) QuantumRange)
+    return((Quantum) QuantumRange);
+  return((Quantum) value);
+#endif
+}
+
 static inline Quantum GetPixela(const Image *restrict image,
   const Quantum *restrict pixel)
 {
diff --git a/MagickCore/threshold.c b/MagickCore/threshold.c
index 788e33ee60e..459b1a18476 100644
--- a/MagickCore/threshold.c
+++ b/MagickCore/threshold.c
@@ -685,19 +685,6 @@ MagickExport MagickBooleanType BlackThresholdImage(Image *image,
 %
 */
 
-static inline Quantum ClampPixel(const MagickRealType value)
-{
-#if !defined(MAGICKCORE_HDRI_SUPPORT)
-  return((Quantum) value);
-#else
-  if (value < 0.0f)
-    return(0.0);
-  if (value >= (MagickRealType) QuantumRange)
-    return((Quantum) QuantumRange);
-  return(value);
-#endif
-}
-
 MagickExport MagickBooleanType ClampImage(Image *image,ExceptionInfo *exception)
 {
 #define ClampImageTag  "Clamp/Image"
diff --git a/coders/sun.c b/coders/sun.c
index 8f92fc37139..af1a7289bfa 100644
--- a/coders/sun.c
+++ b/coders/sun.c
@@ -337,6 +337,8 @@ static Image *ReadSUNImage(const ImageInfo *image_info,ExceptionInfo *exception)
       }
     switch (sun_info.maptype)
     {
+      case RMT_NONE:
+        break;
       case RMT_EQUAL_RGB:
       {
         unsigned char
