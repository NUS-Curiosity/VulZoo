diff --git a/ecrire/inc_version.php b/ecrire/inc_version.php
index 357ad1175f3..46bb4dc4c04 100644
--- a/ecrire/inc_version.php
+++ b/ecrire/inc_version.php
@@ -547,7 +547,10 @@
 	if (!function_exists('session_set')) {
 		include_spip('inc/session');
 	}
-	session_set($t, _request($t));
+	$t = preg_replace(",\W,","_", $t);
+	if ($v = _request($t)) {
+		session_set($t, $v);
+	}
 }
 
 /**
