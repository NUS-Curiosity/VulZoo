diff --git a/src/classes.inc b/src/classes.inc
index 6ac31abcc1..2ab49c63bf 100644
--- a/src/classes.inc
+++ b/src/classes.inc
@@ -53,10 +53,12 @@
 # define DEBUGGING_DXF(action, name)                 ALLOW_DXF(action, name)
 # define DEBUGGING_CLASS(action, name)               UNSTABLE_CLASS(action, name)
 # define DEBUGGING_CLASS_DXF(action, name, _dxfname) UNSTABLE_CLASS_DXF(action, name, _dxfname)
+# define DEBUGGING_CLASS_CPP(action, name, cppname)  UNSTABLE_CLASS_CPP(action, name, cppname)
 #else
 # define DEBUGGING_DXF(action, name)                 DISALLOW_DXF(action, name)
 # define DEBUGGING_CLASS(action, name)               UNHANDLED_CLASS(action, name)
 # define DEBUGGING_CLASS_DXF(action, name, _dxfname) UNHANDLED_CLASS_DXF(action, name, _dxfname)
+# define DEBUGGING_CLASS_CPP(action, name, cppname)  UNHANDLED_CLASS_CPP(action, name, cppname)
 #endif
 
 //#define _DWG_FUNC_N(action,name) dwg_ ## action ## _ ## name
@@ -149,6 +151,18 @@
       /* return dwg_##action_##name(dat, obj); */ \
       return DWG_ERR_UNHANDLEDCLASS; \
     }
+#define UNHANDLED_CLASS_CPP(action, _name, _cppname) \
+  if (klass->cppname && strEQc (klass->cppname, #_cppname)) \
+    { \
+      WARN_UNHANDLED_CLASS; \
+      if (strEQc (_STR(action), "decode") || !memcmp (_STR(action), "in", 2)) { \
+        obj->name = (char*) #_name; \
+        obj->dxfname = (char*) #_name; \
+        obj->fixedtype = DWG_TYPE_##_name; \
+      } \
+      /* return dwg_##action_##name(dat, obj); */ \
+      return DWG_ERR_UNHANDLEDCLASS; \
+    }
 
   /* Entities */
   STABLE_CLASS    (ACTION, CAMERA)    /*ent, not persistent in a DWG */
@@ -220,7 +234,7 @@
   DEBUGGING_CLASS     (ACTION, SWEPTSURFACE)      /*ent */
   DEBUGGING_CLASS_DXF (ACTION, TABLE, ACAD_TABLE) /*ent, r2010+ needs subclassing */
   DEBUGGING_CLASS     (ACTION, ARC_DIMENSION) //ent
-  DEBUGGING_CLASS     (ACTION, TABLECONTENT) //wrong values
+  DEBUGGING_CLASS_CPP (ACTION, TABLECONTENT, AcDbTableContent)
   DEBUGGING_CLASS     (ACTION, TABLEGEOMETRY) //wrong geom_data
   DEBUGGING_CLASS     (ACTION, CELLSTYLEMAP) //broken
   DEBUGGING_CLASS     (ACTION, MATERIAL)     //working on
diff --git a/src/dec_macros.h b/src/dec_macros.h
index ac00adcf33..f2814cc108 100644
--- a/src/dec_macros.h
+++ b/src/dec_macros.h
@@ -1236,8 +1236,8 @@
       obj_dat = *dat;                                                         \
       hdl_dat = *dat;                                                         \
       str_dat = *dat;                                                         \
-      error                                                                   \
-          = dwg_decode_##token##_private (&obj_dat, &hdl_dat, &str_dat, obj); \
+      error = dwg_decode_##token##_private (&obj_dat, &hdl_dat, &str_dat,     \
+                                            obj);                             \
     }                                                                         \
     else { error = dwg_decode_##token##_private (dat, dat, dat, obj); }       \
     return error;                                                             \
