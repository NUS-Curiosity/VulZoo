diff --git a/src/resolve.c b/src/resolve.c
index e8bd75766..af83bdfbf 100644
--- a/src/resolve.c
+++ b/src/resolve.c
@@ -1402,7 +1402,7 @@ resolve_iffeature(struct lys_iffeature *expr)
 {
     int index_e = 0, index_f = 0;
 
-    if (expr->expr) {
+    if (expr->expr && expr->features[0]) {
         return resolve_iffeature_recursive(expr, &index_e, &index_f);
     }
     return 0;
