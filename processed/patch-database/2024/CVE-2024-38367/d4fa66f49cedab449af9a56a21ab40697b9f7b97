diff --git a/app/controllers/api/sessions_controller.rb b/app/controllers/api/sessions_controller.rb
index 7c49a08c..c780c86b 100644
--- a/app/controllers/api/sessions_controller.rb
+++ b/app/controllers/api/sessions_controller.rb
@@ -18,7 +18,7 @@ class SessionsController < APIController
             o.save
           end
 
-          url_template = "#{request.scheme}://#{request.host_with_port}/sessions/verify/%s"
+          url_template = ENV['RACK_ENV'] == 'test' ? "#{request.scheme}://#{request.host_with_port}/sessions/verify/%s" : 'https://trunk.cocoapods.org/sessions/verify/%s'
           session = owner.create_session!(request.ip, url_template, session_description)
           session_attributes = session.public_attributes
           session_attributes['token'] = session.token
