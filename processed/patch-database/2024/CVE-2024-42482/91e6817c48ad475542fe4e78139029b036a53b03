diff --git a/action.yml b/action.yml
index 8a18d6e..8c96d40 100644
--- a/action.yml
+++ b/action.yml
@@ -11,26 +11,36 @@ inputs:
 runs:
   using: "composite"
   steps:
-    - run: |
+    - name: Syntax check fish shell files
+      env:
+        PATTERN: ${{ inputs.pattern }}
+      run: |
         set -gx TERM xterm-256color
 
         set -l passes 0
         set -l failures 0
 
-        for file in ${{ inputs.pattern }}
-            echo -n "  "
-            set output (fish --no-execute $file 2>&1)
-            if test $status -ne 0
-                set_color red; and echo -n "✖"; and set_color normal
-                echo " $file"
-                for line in (string split $output)
-                    echo "      $line"
+        for pattern in (string split --no-empty -- " " $PATTERN)
+            set -l escaped (string escape --style=script --no-quoted -- $pattern)
+            set -l escaped (string replace -r -a -- '\\\([?*{}])' '$1' $escaped)
+
+            eval set -l files $escaped
+
+            for file in $files
+                echo -n "  "
+                set output (fish --no-execute $file 2>&1)
+                if test $status -ne 0
+                    set_color red; and echo -n "✖"; and set_color normal
+                    echo " $file"
+                    for line in (string split -- $output)
+                        echo "      $line"
+                    end
+                    set failures (math $failures + 1)
+                else
+                    set_color green; and echo -n "✔"; and set_color normal
+                    echo " $file"
+                    set passes (math $passes + 1)
                 end
-                set failures (math $failures + 1)
-            else
-                set_color green; and echo -n "✔"; and set_color normal
-                echo " $file"
-                set passes (math $passes + 1)
             end
         end
 
