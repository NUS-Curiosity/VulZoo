diff --git a/ajax/map.php b/ajax/map.php
index 3363708076d..7a987776f40 100644
--- a/ajax/map.php
+++ b/ajax/map.php
@@ -48,7 +48,7 @@
     ];
 } else {
     $itemtype = $_POST['itemtype'];
-    $params   = $_POST['params'];
+    $params = $_POST['params'];
 
     $data = Search::prepareDatasForSearch($itemtype, $params);
     Search::constructSQL($data);
diff --git a/src/Search.php b/src/Search.php
index 11b5011d911..fb54d929443 100644
--- a/src/Search.php
+++ b/src/Search.php
@@ -537,6 +537,8 @@ public static function prepareDatasForSearch($itemtype, array $params, array $fo
             $p['start'] = 0;
         }
 
+        $p = self::cleanParams($p);
+
         $data             = [];
         $data['search']   = $p;
         $data['itemtype'] = $itemtype;
@@ -8033,6 +8035,11 @@ public static function manageParams(
             }
         }
 
+        return self::cleanParams($params);
+    }
+
+    public static function cleanParams(array $params): array
+    {
         $int_params = [
             'sort'
         ];
