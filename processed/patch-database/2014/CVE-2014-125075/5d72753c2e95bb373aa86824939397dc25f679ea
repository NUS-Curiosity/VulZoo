diff --git a/src/AddContact.java b/src/AddContact.java
index dbe397f..4e77e28 100644
--- a/src/AddContact.java
+++ b/src/AddContact.java
@@ -45,7 +45,7 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)
 
                 RequestDispatcher dispatcher = request.getRequestDispatcher("Error"); //New Request Dispatcher
                 request.setAttribute("error", e.getMessage());
-                request.setAttribute("previous", "searchcontact");
+                request.setAttribute("previous", "addcontact.jsp");
                 dispatcher.forward(request, response);
             }
         }
diff --git a/src/Error.java b/src/Error.java
index 1b932ca..f732021 100644
--- a/src/Error.java
+++ b/src/Error.java
@@ -11,9 +11,7 @@ public class Error extends HttpServlet {
      * Calls doPost
      */
     protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
-
         doPost(request, response);
-
     }
 
     /**
@@ -21,20 +19,8 @@ protected void doGet(HttpServletRequest request, HttpServletResponse response) t
      */
     protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
 
-        if (System.currentTimeMillis() > (request.getSession().getLastAccessedTime() + 300000)) {
-            request.setAttribute("error", "Login session timed out, please click retry to log back in");
-            request.setAttribute("previous", "index.html");
-        }
         PrintWriter out = response.getWriter();    //Gets the PrintWriter
-        String back;
-        String previous = (String) request.getAttribute("previous");
-        if (previous.equals("/LoginController") || previous.equals("index.html")) {
-            back = "index.html";
-        } else if (previous.equals("searchcontact")) {
-            back = "contact.jsp";
-        } else {
-            back = "email.html";
-        }
+        String back = (String) request.getAttribute("previous");
         out.println(
                 "<!DOCTYPE html>" +
                         "<html>" +
@@ -56,7 +42,5 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)
                         "</body>" +
                         "</html>"
         );
-
     }
-
 }
diff --git a/src/Login.java b/src/Login.java
index a833637..730ecd0 100644
--- a/src/Login.java
+++ b/src/Login.java
@@ -50,7 +50,7 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)
         } catch (MessagingException e) {
             RequestDispatcher dispatcher = request.getRequestDispatcher("Error"); //New Request Dispatcher
             request.setAttribute("error", e.getMessage());
-            request.setAttribute("previous", request.getServletPath());
+            request.setAttribute("previous", "index.html");
             dispatcher.forward(request, response);
         }
     }
diff --git a/src/Model.java b/src/Model.java
index 55f8e61..9aed54e 100644
--- a/src/Model.java
+++ b/src/Model.java
@@ -48,36 +48,56 @@ public String search(String forename, String surname, String contactemail) throw
         String query;
         if (forename.isEmpty() && surname.isEmpty()) {
             query = "";
-        } else if(forename.isEmpty()) {
+        } else if (forename.isEmpty()) {
             query = "familyname LIKE '%" + surname + "' and";
-        } else if(surname.isEmpty()) {
+        } else if (surname.isEmpty()) {
             query = "forename LIKE '%" + forename + "' and ";
         } else {
             query = "forename LIKE '%" + forename + "' and familyname LIKE '%" + surname + "' and";
         }
 
-    PreparedStatement ps = conn.prepareStatement("SELECT * FROM contactinfo WHERE " + query + " contactemailaddress = '" + contactemail + "'");
-    ResultSet rs = ps.executeQuery();
-    StringBuilder result = new StringBuilder("<h3>Search results...</h3><table class=\"result-table\">" +
-            "<tr>" +
-            "<th>Forename</th> <th>Surname</th> <th>Email</th>" +
-            "</tr>");
-    while(rs.next())
-
-    {
-        result.append("<tr><td>");
-        result.append(rs.getString(2));
-        result.append("</td><td>" + rs.getString(3));
-        result.append("</td><td>" + rs.getString(4) + "</td></tr>");
-    }
+        PreparedStatement ps = conn.prepareStatement("SELECT * FROM contactinfo WHERE ? contactemailaddress = ?");
+        ps.setString(1, query);
+        ps.setString(2, contactemail);
+        ResultSet rs = ps.executeQuery();
+        StringBuilder result = new StringBuilder("<h3>Search results...</h3><table class=\"result-table\">" +
+                "<tr>" +
+                "<th>Forename</th> <th>Surname</th> <th>Email</th>" +
+                "</tr>");
+        while (rs.next())
+        {
+            result.append("<tr><td>");
+            result.append(rs.getString(2));
+            result.append("</td><td>" + rs.getString(3));
+            result.append("</td><td>" + rs.getString(4) + "</td></tr>");
+        }
 
-    result.append("</table");
-    return result.toString();
-}
+        result.append("</table");
+        conn.close();
+        return result.toString();
+    }
 
     public void addContact(String firstname, String surname, String email, String user) throws SQLException {
+
+        PreparedStatement checkDuplicate = conn.prepareStatement("SELECT * FROM contactinfo WHERE emailaddress = ?");
+        checkDuplicate.setString(1, email);
+        ResultSet rs = checkDuplicate.executeQuery();
+        if (rs.next()) {
+            throw new SQLException("Contact already exists");
+        }
         PreparedStatement newStudent = conn.prepareStatement("INSERT INTO " +
-                "contactinfo (forename, familyname, emailaddress, contactemailaddress) VALUES ('" + firstname + "', '" + surname + "', '" + email + "', '" + user + "')");
+                "contactinfo (forename, familyname, emailaddress, contactemailaddress) VALUES (?, ?, ?, ?)");
+        newStudent.setString(1, firstname);
+        newStudent.setString(2, surname);
+        newStudent.setString(3, email);
+        newStudent.setString(4, user);
         newStudent.execute();
+
+        conn.close();
     }
 }
+
+
+//Todo sort out errors, when logging in unsuccessfully etc
+//Todo format message sent successfully page
+//Todo add some JS to allow user to click search results and send an email to that address
diff --git a/src/SearchContact.java b/src/SearchContact.java
index 9a653aa..1df575b 100644
--- a/src/SearchContact.java
+++ b/src/SearchContact.java
@@ -43,7 +43,7 @@ protected void doPost(HttpServletRequest request, HttpServletResponse response)
             } catch (SQLException e) {
                 RequestDispatcher dispatcher = request.getRequestDispatcher("Error"); //New Request Dispatcher
                 request.setAttribute("error", e.getMessage());
-                request.setAttribute("previous", "searchcontact");
+                request.setAttribute("previous", "contact.jsp");
                 dispatcher.forward(request, response);
             }
         }
diff --git a/web/addcontact.jsp b/web/addcontact.jsp
index 6a12326..680b51c 100644
--- a/web/addcontact.jsp
+++ b/web/addcontact.jsp
@@ -12,7 +12,7 @@
     </script>
 </head>
 <body>
-<a id="back" href="http://<%=request.getServerName()%>:<%=request.getServerPort()%>/email.html">Back</a>
+<a id="back" href="email.html">Back</a>
 <div class="logout-container">
     <form action="logout" method="post">
         <input id="logout" type="submit" value="Log Out"/>
@@ -28,7 +28,7 @@
                     <b>Forename: </b>
                 </td>
                 <td>
-                    <input id="name" name="firstname" type="text" placeholder="...">
+                    <input id="name" name="firstname" type="text" placeholder="..." required>
                 </td>
             </tr>
             <tr>
@@ -44,7 +44,7 @@
                     <b>Email Address: </b>
                 </td>
                 <td>
-                    <input id="email" name="email" type="email" placeholder="...">
+                    <input id="email" name="email" type="email" placeholder="..." required>
                 </td>
             </tr>
             <tr>
diff --git a/web/contact.jsp b/web/contact.jsp
index 91c06fd..3c3f2a3 100644
--- a/web/contact.jsp
+++ b/web/contact.jsp
@@ -11,7 +11,7 @@
     </script>
 </head>
 <body>
-<a id="back" href="http://<%=request.getServerName()%>:<%=request.getServerPort()%>/email.html">Back</a>
+<a id="back" href="email.html">Back</a>
 <div class="logout-container">
     <form action="logout" method="post">
         <input id="logout" type="submit" value="Log Out"/>
