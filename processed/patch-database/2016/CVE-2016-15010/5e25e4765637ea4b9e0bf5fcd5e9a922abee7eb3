diff --git a/ucamlookup/templates/admin/auth/lookup_group/add_form.html b/ucamlookup/templates/admin/auth/lookup_group/add_form.html
index 3db4956..ab9c13e 100644
--- a/ucamlookup/templates/admin/auth/lookup_group/add_form.html
+++ b/ucamlookup/templates/admin/auth/lookup_group/add_form.html
@@ -47,20 +47,18 @@
                     return {results: data.groups};
                 }
             },
-            formatResult: function(group) {
-                return group.title;
+            formatResult: function(group, container, query, escapeMarkup) {
+                return escapeMarkup(group.title);
             },
-            formatSelection: function(group) {
-                return group.title;
+            formatSelection: function(group, container, escapeMarkup) {
+                return escapeMarkup(group.title);
             },
             id: function(group) {
                 return group.groupid;
             },
             dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
-            escapeMarkup: function (m) { return m; },
-            // we do not want to escape markup since we are displaying html in results
             width: '100%'
         });
     });
 </script>
-{% endblock %}
\ No newline at end of file
+{% endblock %}
diff --git a/ucamlookup/templates/admin/auth/lookup_user/add_form.html b/ucamlookup/templates/admin/auth/lookup_user/add_form.html
index c4081e4..26d7576 100644
--- a/ucamlookup/templates/admin/auth/lookup_user/add_form.html
+++ b/ucamlookup/templates/admin/auth/lookup_user/add_form.html
@@ -46,20 +46,18 @@
                     return {results: data.persons};
                 }
             },
-            formatResult: function(person) {
-                return person.visibleName+" ("+person.crsid+") ";
+            formatResult: function(person, container, query, escapeMarkup) {
+                return escapeMarkup(person.visibleName+" ("+person.crsid+") ");
             },
-            formatSelection: function(person) {
-                return person.visibleName+" ("+person.crsid+") ";
+            formatSelection: function(person, container, escapeMarkup) {
+                return escapeMarkup(person.visibleName+" ("+person.crsid+") ");
             },
             id: function(person) {
                 return person.crsid;
             },
             dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
-            escapeMarkup: function (m) { return m; },
-            // we do not want to escape markup since we are displaying html in results
             width: '50%'
         });
     });
 </script>
-{% endblock %}
\ No newline at end of file
+{% endblock %}
diff --git a/ucamlookup/templates/ucamlookup_groups.html b/ucamlookup/templates/ucamlookup_groups.html
index 6d95f26..5b7dc92 100644
--- a/ucamlookup/templates/ucamlookup_groups.html
+++ b/ucamlookup/templates/ucamlookup_groups.html
@@ -25,18 +25,16 @@
                     return {results: data.groups};
                 }
             },
-            formatResult: function(group) {
-                return group.title;
+            formatResult: function(group, container, query, escapeMarkup) {
+                return escapeMarkup(group.title);
             },
-            formatSelection: function(group) {
-                return group.title;
+            formatSelection: function(group, container, escapeMarkup) {
+                return escapeMarkup(group.title);
             },
             id: function(group) {
                 return group.groupid;
             },
             dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
-            escapeMarkup: function (m) { return m; }
-            // we do not want to escape markup since we are displaying html in results
         });
 
         $("#{{ input_tag_id }}").select2("data", [
@@ -48,4 +46,4 @@
             {% endfor %}
         ]);
     });
-</script>
\ No newline at end of file
+</script>
diff --git a/ucamlookup/templates/ucamlookup_users.html b/ucamlookup/templates/ucamlookup_users.html
index 94317ce..6c8b44e 100644
--- a/ucamlookup/templates/ucamlookup_users.html
+++ b/ucamlookup/templates/ucamlookup_users.html
@@ -25,18 +25,16 @@
                     return {results: data.persons};
                 }
             },
-            formatResult: function(person) {
-                return person.visibleName+" ("+person.crsid+") ";
+            formatResult: function(person, container, wuery, escapeMarkup) {
+                return escapeMarkup(person.visibleName+" ("+person.crsid+") ");
             },
-            formatSelection: function(person) {
-                return person.visibleName+" ("+person.crsid+") ";
+            formatSelection: function(person, container, escapeMarkup) {
+                return escapeMarkup(person.visibleName+" ("+person.crsid+") ");
             },
             id: function(person) {
                 return person.crsid;
             },
             dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
-            escapeMarkup: function (m) { return m; }
-            // we do not want to escape markup since we are displaying html in results
         });
 
         $("#{{ input_tag_id }}").select2("data", [
@@ -51,4 +49,4 @@
             {% endfor %}
         ]);
     });
-</script>
\ No newline at end of file
+</script>
