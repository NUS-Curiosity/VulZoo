diff --git a/Upload/admin/modules/home/index.php b/Upload/admin/modules/home/index.php
index 0935250..6b42ec0 100644
--- a/Upload/admin/modules/home/index.php
+++ b/Upload/admin/modules/home/index.php
@@ -29,41 +29,41 @@
 
 if ($mybb->input['action'] == "version_check") {
     $plugins->run_hooks("admin_home_version_check_start");
-    
+
     $current_version = rawurlencode($mybb->version_code);
-    
+
     $updated_cache = array(
         "last_check" => TIME_NOW
     );
-    
+
     require_once MYBB_ROOT . "inc/class_xml.php";
     $contents = fetch_remote_file("https://mybb.com/version_check.php");
-    
+
     if (!$contents) {
         flash_message($lang->error_communication, 'error');
         admin_redirect('index.php');
     }
-    
+
     $plugins->run_hooks("admin_home_version_check");
-    
+
     $page->add_breadcrumb_item($lang->version_check, "index.php?module=home-version_check");
     $page->output_header($lang->version_check);
     $page->output_nav_tabs($sub_tabs, 'version_check');
-    
+
     // We do this because there is some weird symbols that show up in the xml file for unknown reasons
     $pos = strpos($contents, "<");
     if ($pos > 1) {
         $contents = substr($contents, $pos);
     }
-    
+
     $pos = strpos(strrev($contents), ">");
     if ($pos > 1) {
         $contents = substr($contents, 0, (-1) * ($pos - 1));
     }
-    
+
     $parser = new XMLParser($contents);
     $tree   = $parser->get_tree();
-    
+
     $latest_code    = (int) $tree['mybb']['version_code']['value'];
     $latest_version = "<strong>" . htmlspecialchars_uni($tree['mybb']['latest_version']['value']) . "</strong> (" . $latest_code . ")";
     if ($latest_code > $mybb->version_code) {
@@ -74,50 +74,50 @@
     } else {
         $latest_version = "<span style=\"color: green;\">" . $latest_version . "</span>";
     }
-    
+
     if ($version_warn) {
         $page->output_error("<p><em>{$lang->error_out_of_date}</em> {$lang->update_forum}</p>");
     } else {
         $page->output_success("<p><em>{$lang->success_up_to_date}</em></p>");
     }
-    
+
     $table = new Table;
     $table->construct_header($lang->your_version);
     $table->construct_header($lang->latest_version);
-    
+
     $table->construct_cell("<strong>" . $mybb->version . "</strong> (" . $mybb->version_code . ")");
     $table->construct_cell($latest_version);
     $table->construct_row();
-    
+
     $table->output($lang->version_check);
-    
+
     require_once MYBB_ROOT . "inc/class_feedparser.php";
-    
+
     $feed_parser = new FeedParser();
     $feed_parser->parse_feed("http://feeds.feedburner.com/MyBBDevelopmentBlog");
-    
+
     $updated_cache['news'] = array();
-    
+
     require_once MYBB_ROOT . '/inc/class_parser.php';
     $post_parser = new postParser();
-    
+
     if ($feed_parser->error == '') {
         foreach ($feed_parser->items as $item) {
             if (!isset($updated_cache['news'][2])) {
                 $description = $item['description'];
                 $content     = $item['content'];
-                
+
                 $description = $post_parser->parse_message($description, array(
                     'allow_html' => true
                 ));
-                
+
                 $content = $post_parser->parse_message($content, array(
                     'allow_html' => true
                 ));
-                
+
                 $description = preg_replace('#<img(.*)/>#', '', $description);
                 $content     = preg_replace('#<img(.*)/>#', '', $content);
-                
+
                 $updated_cache['news'][] = array(
                     'title' => htmlspecialchars_uni($item['title']),
                     'description' => $description,
@@ -126,14 +126,14 @@
                     'dateline' => $item['date_timestamp']
                 );
             }
-            
+
             $stamp = '';
             if ($item['date_timestamp']) {
                 $stamp = my_date('relative', $item['date_timestamp']);
             }
-            
+
             $link = htmlspecialchars_uni($item['link']);
-            
+
             $table->construct_cell("<span style=\"font-size: 16px;\"><strong>" . htmlspecialchars_uni($item['title']) . "</strong></span><br /><br />{$content}<strong><span style=\"float: right;\">{$stamp}</span><br /><br /><a href=\"{$link}\" target=\"_blank\" rel=\"noopener\">&raquo; {$lang->read_more}</a></strong>");
             $table->construct_row();
         }
@@ -141,137 +141,137 @@
         $table->construct_cell("{$lang->error_fetch_news} <!-- error code: {$feed_parser->error} -->");
         $table->construct_row();
     }
-    
+
     $cache->update("update_check", $updated_cache);
-    
+
     $table->output($lang->latest_mybb_announcements);
     $page->output_footer();
 } elseif (!$mybb->input['action']) {
     $plugins->run_hooks("admin_home_index_start");
-    
+
     //    if($mybb->request_method == "post" && isset($mybb->input['adminnotes']))
     //    {
     //        // Update Admin Notes cache
     //        $update_cache = array(
     //            "adminmessage" => $mybb->input['adminnotes']
     //        );
-    
+
     //        $cache->update("adminnotes", $update_cache);
-    
+
     //        $plugins->run_hooks("admin_home_index_start_begin");
-    
+
     //        flash_message($lang->success_notes_updated, 'success');
     //        admin_redirect("index.php");
     //    }
-    
+
     $page->add_breadcrumb_item($lang->dashboard);
     $page->output_header($lang->dashboard);
-    
+
     $sub_tabs['dashboard'] = array(
         'title' => $lang->dashboard,
         'link' => "index.php",
         'description' => $lang->dashboard_description
     );
-    
+
     $page->output_nav_tabs($sub_tabs, 'dashboard');
-    
+
     // Load stats cache
     $stats = $cache->read("stats");
-    
+
     $serverload = get_server_load();
-    
+
     // Get the number of users
     $query = $db->simple_select("users", "COUNT(uid) AS numusers");
     $users = my_number_format($db->fetch_field($query, "numusers"));
-    
+
     // Get the number of users awaiting validation
     $awaitingusers = $cache->read('awaitingactivation');
-    
+
     if (!empty($awaitingusers['users'])) {
         $awaitingusers = (int) $awaitingusers['users'];
     } else {
         $awaitingusers = 0;
     }
-    
+
     if ($awaitingusers < 1) {
         $awaitingusers = 0;
     } else {
         $awaitingusers = my_number_format($awaitingusers);
     }
-    
+
     // Get the number of new users for today
     $timecut  = TIME_NOW - 86400;
     $query    = $db->simple_select("users", "COUNT(uid) AS newusers", "regdate > '$timecut'");
     $newusers = my_number_format($db->fetch_field($query, "newusers"));
-    
+
     // Get the number of active users today
     $query       = $db->simple_select("users", "COUNT(uid) AS activeusers", "lastvisit > '$timecut'");
     $activeusers = my_number_format($db->fetch_field($query, "activeusers"));
-    
+
     // Get the number of threads
     $threads = my_number_format($stats['numthreads']);
-    
+
     // Get the number of unapproved threads
     $unapproved_threads = my_number_format($stats['numunapprovedthreads']);
-    
+
     // Get the number of new threads for today
     $query      = $db->simple_select("threads", "COUNT(*) AS newthreads", "dateline > '$timecut' AND visible='1' AND closed NOT LIKE 'moved|%'");
     $newthreads = my_number_format($db->fetch_field($query, "newthreads"));
-    
+
     // Get the number of posts
     $posts = my_number_format($stats['numposts']);
-    
+
     // Get the number of unapproved posts
     if ($stats['numunapprovedposts'] < 0) {
         $stats['numunapprovedposts'] = 0;
     }
-    
+
     $unapproved_posts = my_number_format($stats['numunapprovedposts']);
-    
+
     // Get the number of new posts for today
     $query    = $db->simple_select("posts", "COUNT(*) AS newposts", "dateline > '$timecut' AND visible='1'");
     $newposts = my_number_format($db->fetch_field($query, "newposts"));
-    
+
     // Get the number of reported post
     $query          = $db->simple_select("reportedcontent", "COUNT(*) AS reported_posts", "type = 'post' OR type = ''");
     $reported_posts = my_number_format($db->fetch_field($query, "reported_posts"));
-    
+
     // If report medium is MCP...
     if ($mybb->settings['reportmethod'] == "db") {
         // Get the number of reported posts that haven't been marked as read yet
         $query              = $db->simple_select("reportedcontent", "COUNT(*) AS new_reported_posts", "reportstatus='0' AND (type = 'post' OR type = '')");
         $new_reported_posts = my_number_format($db->fetch_field($query, "new_reported_posts"));
     }
-    
+
     // Get the number and total file size of attachments
     $query                = $db->simple_select("attachments", "COUNT(*) AS numattachs, SUM(filesize) as spaceused", "visible='1' AND pid > '0'");
     $attachs              = $db->fetch_array($query);
     $attachs['spaceused'] = get_friendly_size($attachs['spaceused']);
     $approved_attachs     = my_number_format($attachs['numattachs']);
-    
+
     // Get the number of unapproved attachments
     $query              = $db->simple_select("attachments", "COUNT(*) AS numattachs", "visible='0' AND pid > '0'");
     $unapproved_attachs = my_number_format($db->fetch_field($query, "numattachs"));
-    
+
     // Fetch the last time an update check was run
     $update_check = $cache->read("update_check");
-    
+
     // If last update check was greater than two weeks ago (14 days) show an alert
     if (isset($update_check['last_check']) && $update_check['last_check'] <= TIME_NOW - 60 * 60 * 24 * 14) {
         $lang->last_update_check_two_weeks = $lang->sprintf($lang->last_update_check_two_weeks, "index.php?module=home&amp;action=version_check");
         $page->output_error("<p>{$lang->last_update_check_two_weeks}</p>");
     }
-    
+
     // If the update check contains information about a newer version, show an alert
     if (isset($update_check['latest_version_code']) && $update_check['latest_version_code'] > $mybb->version_code) {
         $lang->new_version_available = $lang->sprintf($lang->new_version_available, "MyBB {$mybb->version}", "<a href=\"https://mybb.com/download\" target=\"_blank\" rel=\"noopener\">MyBB {$update_check['latest_version']}</a>");
         $page->output_error("<p><em>{$lang->new_version_available}</em></p>");
     }
-    
+
     $plugins->run_hooks("admin_home_index_output_message");
-    
+
     $adminmessage = $cache->read("adminnotes");
-    
+
     $table = new Table;
     $table->construct_header($lang->mybb_server_stats, array(
         "colspan" => 2
@@ -279,7 +279,7 @@
     $table->construct_header($lang->forum_stats, array(
         "colspan" => 2
     ));
-    
+
     $table->construct_cell("<strong>{$lang->mybb_version}</strong>", array(
         'width' => '25%'
     ));
@@ -293,7 +293,7 @@
         'width' => '25%'
     ));
     $table->construct_row();
-    
+
     $table->construct_cell("<strong>{$lang->php_version}</strong>", array(
         'width' => '25%'
     ));
@@ -313,7 +313,7 @@
         ));
     }
     $table->construct_row();
-    
+
     $table->construct_cell("<strong>{$lang->sql_engine}</strong>", array(
         'width' => '25%'
     ));
@@ -327,7 +327,7 @@
         'width' => '25%'
     ));
     $table->construct_row();
-    
+
     $table->construct_cell("<strong>{$lang->server_load}</strong>", array(
         'width' => '25%'
     ));
@@ -341,30 +341,30 @@
         'width' => '25%'
     ));
     $table->construct_row();
-    
+
     $table->output($lang->dashboard);
-    
+
     // Admin Notes Start
-    
+
     global $lang;
-    
+
     $lang->load("adminnotes");
-    
+
     $plugins->run_hooks("admin_home_index_start");
-    
+
     if (!$db->table_exists("adminnotes")) {
         if ($mybb->request_method == "post" && isset($mybb->input['adminnotes'])) {
-            
+
             // Update Admin Notes cache
-            
+
             $update_cache = array(
                 "adminmessage" => $mybb->input['adminnotes']
             );
-            
+
             $cache->update("adminnotes", $update_cache);
-            
+
             $plugins->run_hooks("admin_home_index_start_begin");
-            
+
             flash_message($lang->success_notes_updated, 'success');
             admin_redirect("index.php");
         }
@@ -377,29 +377,29 @@
             'style' => 'width: 99%; height: 200px;'
         )));
         $table->construct_row();
-        
+
         $table->output($lang->admin_notes);
-        
+
         $buttons[] = $form->generate_submit_button($lang->save_notes);
         $form->output_submit_wrapper($buttons);
-        
+
         $form->end();
         //        $page->output_footer();
-        
+
         echo '</div>
     <div class="float_left" style="width: 48%;">';
-        
+
         // Latest news widget
-        
+
         $table = new Table;
         $table->construct_header($lang->news_description);
-        
+
         if (!empty($update_check['news']) && is_array($update_check['news'])) {
             foreach ($update_check['news'] as $news_item) {
                 $posted = my_date('relative', $news_item['dateline']);
                 $table->construct_cell("<strong><a href=\"{$news_item['link']}\" target=\"_blank\" rel=\"noopener\">{$news_item['title']}</a></strong><br /><span class=\"smalltext\">{$posted}</span>");
                 $table->construct_row();
-                
+
                 $table->construct_cell($news_item['description']);
                 $table->construct_row();
             }
@@ -407,14 +407,14 @@
             $table->construct_cell($lang->no_announcements);
             $table->construct_row();
         }
-        
+
         $table->output($lang->latest_mybb_announcements);
         echo '</div>';
-        
+
         $page->output_footer();
-        
+
     } else {
-        if ($mybb->input['empty'] == "table" && $mybb->user['usergroup'] == 4) {
+        if ($mybb->input['empty'] == "table" && $mybb->user['usergroup'] == 4 && $mybb->input['my_post_key']) {
             $db->query("truncate " . TABLE_PREFIX . "adminnotes");
             flash_message("the notes were successfully removed!", 'success');
             admin_redirect("index.php");
@@ -425,7 +425,7 @@
                 'text' => $db->escape_string($mybb->input['adminnotes'])
             );
             $nid    = $db->insert_query("adminnotes", $update);
-            
+
             flash_message($lang->success_notes_updated, 'success');
             admin_redirect("index.php");
         }
@@ -435,7 +435,7 @@
         $quantity = $db->fetch_field($query, "notes");
         $page     = intval($mybb->input['page']);
         $perpage  = $mybb->settings['adminnotes_pagination'];
-        
+
         if ($page > 0) {
             $start = ($page - 1) * $perpage;
             $pages = $quantity / $perpage;
@@ -448,7 +448,7 @@
             $start = 0;
             $page  = 1;
         }
-        
+
         $profile_page = "index.php";
         $table        = new Table;
         $table->construct_header("User", array(
@@ -477,41 +477,41 @@
             'style' => 'width: 99%; height: 200px;'
         )));
         $table->construct_row();
-        
+
         echo "<div>";
         echo multipage($quantity, (int) $perpage, (int) $page, $profile_page);
         echo "</div><br />";
         $table->output($lang->admin_notes);
-        
+
         $buttons[] = $form->generate_submit_button($lang->save_notes);
         $form->output_submit_wrapper($buttons);
         $form->end();
-        
+
         echo "<br /><div align=\"right\">
         <table cellpadding=4 cellspacing=1 style=\"background:#F5F5F5;width:25%;margin: left;border: 1px solid #0F5C8E;border-radius:6px;\">
     <tr><td style=\"background: #026CB1 url(../images/thead.png) top left repeat-x;color: #ffffff;border-radius:6px 6px 0px 0px;\"><center><strong>" . $lang->adminnotes_option . "</strong></center></td></tr>
     <tr><td>
-    <a href='index.php?empty=table' onclick=\"return confirm('want to empty the table notes?');\"><strong>" . $lang->adminnotes_clear . "</strong></a>
+    <a href='index.php?empty=table&my_post_key={$mybb->post_code}' onclick=\"return confirm('want to empty the table notes?');\"><strong>" . $lang->adminnotes_clear . "</strong></a>
     </td></tr>
     </table>
     </div><br /><br />";
     }
-    
+
     // Admin Notes End
-    
+
     echo '</div><div class="float_left" style="width: 48%;">';
-    
+
     // Latest news widget
 
     $table = new Table;
     $table->construct_header($lang->news_description);
-    
+
     if (!empty($update_check['news']) && is_array($update_check['news'])) {
         foreach ($update_check['news'] as $news_item) {
             $posted = my_date('relative', $news_item['dateline']);
             $table->construct_cell("<strong><a href=\"{$news_item['link']}\" target=\"_blank\" rel=\"noopener\">{$news_item['title']}</a></strong><br /><span class=\"smalltext\">{$posted}</span>");
             $table->construct_row();
-            
+
             $table->construct_cell($news_item['description']);
             $table->construct_row();
         }
@@ -519,10 +519,10 @@
         $table->construct_cell($lang->no_announcements);
         $table->construct_row();
     }
-    
+
     $table->output($lang->latest_mybb_announcements);
     echo '</div>';
-    
+
     $page->output_footer();
 }
-?> 
\ No newline at end of file
+?>
