diff --git a/web/concrete/tools/files/search_dialog.php b/web/concrete/tools/files/search_dialog.php
index 58dfdf042c..119f2d2aa6 100644
--- a/web/concrete/tools/files/search_dialog.php
+++ b/web/concrete/tools/files/search_dialog.php
@@ -13,6 +13,7 @@
 	$searchInstance = $page . time();
 }
 $ocID = Loader::helper('text')->entities($_REQUEST['ocID']);
+$disable_choose = Loader::helper('text')->entities($_REQUEST['disable_choose']);
 
 $cnt = Loader::controller('/dashboard/files/search');
 $fileList = $cnt->getRequestedSearchResults();
@@ -22,7 +23,7 @@
 $columns = $cnt->get('columns');
 
 $alType = 'false';
-if (isset($_REQUEST['disable_choose']) && $_REQUEST['disable_choose'] == 1) { 
+if ($disable_choose == 1) { 
 	$alType = 'BROWSE';
 }
 
@@ -40,7 +41,7 @@
 	<div id="ccm-<?=$searchInstance?>-overlay-wrapper">
 <? } ?>
 <div id="ccm-<?=$searchInstance?>-search-overlay" class="ccm-ui">
-	<input type="hidden" name="dialogAction" value="<?=REL_DIR_FILES_TOOLS_REQUIRED?>/files/search_dialog?ocID=<?=$_REQUEST['ocID']?>&searchInstance=<?=$searchInstance?>&disable_choose=<?=$_REQUEST['disable_choose']?>" />
+	<input type="hidden" name="dialogAction" value="<?=REL_DIR_FILES_TOOLS_REQUIRED?>/files/search_dialog?ocID=<?=$ocID?>&amp;searchInstance=<?=$searchInstance?>&amp;disable_choose=<?=$disable_choose?>" />
 
 <div class="ccm-pane-options" id="ccm-<?=$searchInstance?>-pane-options">
 
@@ -60,4 +61,4 @@
 	ccm_activateFileManager(\'' . $alType . '\', \'' . $searchInstance . '\');
 });
 </script>';
-?>
\ No newline at end of file
+?>
