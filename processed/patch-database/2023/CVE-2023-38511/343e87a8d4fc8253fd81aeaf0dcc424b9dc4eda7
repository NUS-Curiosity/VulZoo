diff --git a/application/dashboard.class.inc.php b/application/dashboard.class.inc.php
index 2d6c7dbd44..3d2db1eb0c 100644
--- a/application/dashboard.class.inc.php
+++ b/application/dashboard.class.inc.php
@@ -918,7 +918,7 @@ public static function GetDashboardToEdit($sDashboardFile, $sDashBoardId)
 	{
 		$bCustomized = false;
 
-		$sDashboardFileSanitized = utils::RealPath($sDashboardFile, APPROOT);
+		$sDashboardFileSanitized = utils::RealPath(APPROOT.$sDashboardFile, APPROOT);
 		if (false === $sDashboardFileSanitized) {
 			throw new SecurityException('Invalid dashboard file !');
 		}
@@ -1141,7 +1141,7 @@ protected function RenderEditionTools(WebPage $oPage, DashboardLayoutUIBlock $oD
 		$oToolbar->AddSubBlock($oActionButton);
 
 		$aActions = array();
-		$sFile = addslashes($this->sDefinitionFile);
+		$sFile = addslashes(utils::LocalPath($this->sDefinitionFile));
 		$sJSExtraParams = json_encode($aExtraParams);
 		if ($this->HasCustomDashboard()) {
 			$oEdit = new JSPopupMenuItem('UI:Dashboard:Edit', Dict::S('UI:Dashboard:EditCustom'), "return EditDashboard('{$this->sId}', '$sFile', $sJSExtraParams)");
