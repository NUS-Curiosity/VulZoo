diff --git a/block_sitenews.php b/block_sitenews.php
index 2a1e4ac..173926b 100644
--- a/block_sitenews.php
+++ b/block_sitenews.php
@@ -64,7 +64,7 @@ public function get_content() {
 
         $updatemynumber = optional_param("mynewsitems", -1, PARAM_INT);
         $displaysetting = block_sitenews_get_itemsnumber();
-        if ($updatemynumber >= 0 && $updatemynumber < 11) {
+        if ($updatemynumber >= 0 && $updatemynumber < 11 && confirm_sesskey()) {
             block_sitenews_update_itemsnumber($updatemynumber);
             $displaysetting = $items = $updatemynumber;
         }
diff --git a/renderer.php b/renderer.php
index 9ec6e75..438c123 100644
--- a/renderer.php
+++ b/renderer.php
@@ -58,6 +58,7 @@ public function editing_bar_head($selected = 0) {
         $options = range(0,10);
         $options[0] = get_string("preset", "block_sitenews");
         $select = new single_select($url, "mynewsitems", $options, $selected, array());
+        $select->method = 'post';
         $select->set_label(get_string("newsitemsnumber") . ":");
         $output .= $this->output->render($select);
 
