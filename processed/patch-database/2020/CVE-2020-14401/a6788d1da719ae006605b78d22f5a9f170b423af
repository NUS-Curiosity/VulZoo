diff --git a/libvncserver/scale.c b/libvncserver/scale.c
index a5cdf2baa..39ccb473d 100644
--- a/libvncserver/scale.c
+++ b/libvncserver/scale.c
@@ -210,7 +210,7 @@ void rfbScaledScreenUpdateRect(rfbScreenInfoPtr screen, rfbScreenInfoPtr ptr, in
              default:
                /* fixme: endianness problem? */
                for (z = 0; z < bytesPerPixel; z++)
-                 pixel_value += (srcptr2[z] << (8 * z));
+                 pixel_value += ((unsigned long)srcptr2[z] << (8 * z));
                 break;
               }
               /*
