diff --git a/hooks/gitolite-admin/post-update b/hooks/gitolite-admin/post-update
index 5edf96daa..3707c9f15 100755
--- a/hooks/gitolite-admin/post-update
+++ b/hooks/gitolite-admin/post-update
@@ -2,7 +2,8 @@
 
 # checkout the master branch to $GL_ADMINDIR
 # (the GL_ADMINDIR env var would have been set by gl-auth-command)
-GIT_WORK_TREE=$GL_ADMINDIR git checkout -f master
+GIT_WORK_TREE=$GL_ADMINDIR git checkout -f master -- \
+    `git ls-tree master | cut -f2 | perl -lne 'print unless /^(src|hooks)$/'`
 
 od=$PWD
 cd $GL_ADMINDIR
