diff --git a/src/register.c b/src/register.c
index 5ebaa05dbf091..d5a56ae0c604d 100644
--- a/src/register.c
+++ b/src/register.c
@@ -2219,9 +2219,12 @@ do_put(
 	    len = STRLEN(y_array[y_size - 1]);
 	    col = (colnr_T)len - lendiff;
 	    if (col > 1)
-		curbuf->b_op_end.col = col - 1
-				- mb_head_off(y_array[y_size - 1],
+	    {
+		curbuf->b_op_end.col = col - 1;
+		if (len > 0)
+		    curbuf->b_op_end.col -= mb_head_off(y_array[y_size - 1],
 						y_array[y_size - 1] + len - 1);
+	    }
 	    else
 		curbuf->b_op_end.col = 0;
 
diff --git a/src/testdir/test_put.vim b/src/testdir/test_put.vim
index 0fde026401a9b..aa5aa2b990616 100644
--- a/src/testdir/test_put.vim
+++ b/src/testdir/test_put.vim
@@ -210,5 +210,14 @@ func Test_multibyte_op_end_mark()
   bwipe!
 endfunc
 
+" this was putting a mark before the start of a line
+func Test_put_empty_register()
+  new
+  norm yy
+  norm [Pi00ggv)s0
+  sil! norm [P
+  bwipe!
+endfunc
+
 
 " vim: shiftwidth=2 sts=2 expandtab
diff --git a/src/version.c b/src/version.c
index 4682108ff8e62..250b73e7afff9 100644
--- a/src/version.c
+++ b/src/version.c
@@ -734,6 +734,8 @@ static char *(features[]) =
 
 static int included_patches[] =
 {   /* Add new patch number below this line */
+/**/
+    5016,
 /**/
     5015,
 /**/
