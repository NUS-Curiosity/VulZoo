diff --git a/include/global.php b/include/global.php
index 3dea93da6..09f98d9d7 100644
--- a/include/global.php
+++ b/include/global.php
@@ -96,7 +96,7 @@
 }
 
 /* Should we allow proxy ip headers? */
-$config['proxy_headers'] = $proxy_headers ?? null;
+$config['proxy_headers'] = (isset($proxy_headers) ? $proxy_headers : null);
 
 /* Set the poller_id */
 if (isset($poller_id)) {
diff --git a/lib/functions.php b/lib/functions.php
index c12004725..71ed52764 100644
--- a/lib/functions.php
+++ b/lib/functions.php
@@ -6725,7 +6725,7 @@ function get_debug_prefix() {
 function get_client_addr() {
 	global $config, $allowed_proxy_headers;
 
-	$proxy_headers = $config['proxy_headers'] ?? null;
+	$proxy_headers = (isset($config['proxy_headers']) ? $config['proxy_headers'] : null);
 	if ($proxy_headers === null) {
 		$last_time = read_config_option('proxy_alert');
 		if (empty($last_time)) {
