diff --git a/app/views/changes/index.html.erb b/app/views/changes/index.html.erb
index c5a99d05..7471d36b 100644
--- a/app/views/changes/index.html.erb
+++ b/app/views/changes/index.html.erb
@@ -27,7 +27,7 @@ last_days_ago = nil
     last_days_ago = c["days_ago"]
   end
   %>
-  <%= raw header %>
+  <%= header.html_safe %>
   <% unless c["location_id"].nil? %>
     <%= link_to location_path(c["location_id"]) do %>
       <span><%= types.nil? ? translate("glossary.unknown") : types %></span>
diff --git a/app/views/imports/show.html.erb b/app/views/imports/show.html.erb
index 9065ed3a..fd2014d8 100755
--- a/app/views/imports/show.html.erb
+++ b/app/views/imports/show.html.erb
@@ -26,12 +26,12 @@
   <span style="font-size:100%;">
   <!-- Comments -->
   <% unless @import.comments.blank? %>
-    <%= raw @import.comments.gsub("\n","<br>") %><br /><br />
+    <%= ERB::Util.html_escape(@import.comments).gsub("\n", "<br/>").html_safe %><br /><br />
   <% end %>
 
   <!-- License -->
   <% unless @import.license.blank? %>
-    <%= raw @import.license.gsub("\n","<br>") %>
+    <%= ERB::Util.html_escape(@import.license).gsub("\n", "<br/>").html_safe %>
   <% else %>
     <i><%= translate("pages.datasets.no_license").html_safe %></i>
   <% end %>
diff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb
index b9817521..072d75c8 100644
--- a/app/views/layouts/application.html.erb
+++ b/app/views/layouts/application.html.erb
@@ -74,7 +74,7 @@
   <% end %>
   <script type="text/javascript">
     host = "<%= host %>";
-    cats = <%= raw @categories %>;
+    cats = <%= @categories.map{|c| ERB::Util.html_escape(c)}.to_json.html_safe %>;
     // load I18n
     I18n.defaultLocale = "<%= I18n.default_locale %>";
     I18n.locale = "<%= I18n.locale %>";
diff --git a/app/views/pages/datasets.html.erb b/app/views/pages/datasets.html.erb
index f5800ec5..c5b7b19f 100644
--- a/app/views/pages/datasets.html.erb
+++ b/app/views/pages/datasets.html.erb
@@ -42,11 +42,11 @@ Import.order("id").reverse.each do |import|
     <td style="display:none;">
       <!-- Comments -->
       <% unless import.comments.blank? %>
-        <%= raw import.comments.gsub("\n","<br/>") %><br /><br />
+        <%= ERB::Util.html_escape(import.comments).gsub("\n", "<br/>").html_safe %><br /><br />
       <% end %>
       <!-- License -->
       <% unless import.license.blank? %>
-        <%= raw import.license.gsub("\n","<br/>") %>
+        <%= ERB::Util.html_escape(import.license).gsub("\n", "<br/>").html_safe %>
       <% else %>
         <i><%= translate("pages.datasets.no_license").html_safe %></i>
       <% end %>
diff --git a/app/views/types/grow.html.erb b/app/views/types/grow.html.erb
index dba0daec..b4a7b377 100644
--- a/app/views/types/grow.html.erb
+++ b/app/views/types/grow.html.erb
@@ -17,7 +17,7 @@
 <td style="text-align:right"><%= type.id %></td>
 <td>
  <% unless type.wikipedia_url.blank? %>
-  <a href="<%= raw type.wikipedia_url %>" target="_blank"><%= h type.en_name %></a>
+  <a href="<%= type.wikipedia_url %>" target="_blank"><%= h type.en_name %></a>
  <% else %>
   <%= type.en_name %>
  <% end %>
diff --git a/app/views/types/index.html.erb b/app/views/types/index.html.erb
index 5c447222..d4444015 100644
--- a/app/views/types/index.html.erb
+++ b/app/views/types/index.html.erb
@@ -34,7 +34,7 @@
       <td><%= mask_to_array(type.category_mask,Type::Categories).join(", ") %></td>
       <td style="text-align:center;">
       <% unless type.wikipedia_url.blank? %>
-        <a href="<%= raw type.wikipedia_url %>" target="_blank">W</a>
+        <a href="<%= type.wikipedia_url %>" target="_blank">W</a>
       <% end %>
       </td>
       <td><%= link_to 'Edit', edit_type_path(type) %></td>
