
Date: Thu, 15 Oct 2009 11:15:10 +1100 (EST)
From: white@...ian.org (Steffen Joeris)
To: debian-security-announce@...ts.debian.org
Subject: [SECURITY] [DSA 1910-1] New mysql-ocaml packages
	provide secure escaping

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- ------------------------------------------------------------------------
Debian Security Advisory DSA-1910-1                  security@...ian.org
http://www.debian.org/security/                      Steffen Joeris
October 14, 2009                      http://www.debian.org/security/faq
- ------------------------------------------------------------------------

Package        : mysql-ocaml
Vulnerability  : missing escape function
Problem type   : remote
Debian-specific: no
CVE Id         : CVE-2009-2942


It was discovered that mysql-ocaml, OCaml bindings for MySql, was
missing a function to call mysql_real_escape_string(). This is needed,
because mysql_real_escape_string() honours the charset of the connection
and prevents insufficient escaping, when certain multibyte character
encodings are used. The added function is called real_escape() and
takes the established database connection as a first argument. The old
escape_string() was kept for backwards compatibility.

Developers using these bindings are encouraged to adjust their code to
use the new function.


For the stable distribution (lenny), this problem has been fixed in
version 1.0.4-4+lenny1.

For the oldstable distribution (etch), this problem has been fixed in
version 1.0.4-2+etch1.

For the testing distribution (squeeze) and the unstable distribution
(sid), this problem will be fixed soon.


We recommend that you upgrade your mysql-ocaml packages.


Upgrade instructions
- --------------------

wget url
        will fetch the file for you
dpkg -i file.deb
        will install the referenced file.

If you are using the apt-get package manager, use the line for
sources.list as given below:

apt-get update
        will update the internal database
apt-get upgrade
        will install corrected packages

You may use an automated update by adding the resources from the
footer to the proper configuration.


Debian GNU/Linux 4.0 alias etch
- -------------------------------

Debian (oldstable)
- ------------------

Oldstable updates are available for alpha, amd64, arm, hppa, i386, ia64, mips, mipsel, powerpc, s390 and sparc.

Source archives:

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/mysql-ocaml_1.0.4-2+etch1.diff.gz
    Size/MD5 checksum:     4922 747ef04d7a1889198ec4dbf74c67b2f9
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/mysql-ocaml_1.0.4-2+etch1.dsc
    Size/MD5 checksum:     1330 7fc48e4dcd193742a45c876fd526a57b

amd64 architecture (AMD x86_64 (AMD64))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-2+etch1_amd64.deb
    Size/MD5 checksum:    11790 fd99b55a5cd4b4a31ab19be4bcb381b1
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-2+etch1_amd64.deb
    Size/MD5 checksum:    56456 be0d2ab9fff0963365ebd00ad292a099

mips architecture (MIPS (Big Endian))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-2+etch1_mips.deb
    Size/MD5 checksum:    41052 0e192c84931718413f68bbbeecaae8de
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-2+etch1_mips.deb
    Size/MD5 checksum:    11188 cfe215c414389beb6e209e0b1ad53836

mipsel architecture (MIPS (Little Endian))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-2+etch1_mipsel.deb
    Size/MD5 checksum:    41082 b5f411607c26b4ba66fdf5ca3fafdc1e
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-2+etch1_mipsel.deb
    Size/MD5 checksum:    11212 55dbbcd2aaf1ce70c5f29ca294ab7c2f

sparc architecture (Sun SPARC/UltraSPARC)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-2+etch1_sparc.deb
    Size/MD5 checksum:    56836 945b6f4cdddd98413031a91a14e48da7
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-2+etch1_sparc.deb
    Size/MD5 checksum:    10650 8c92747279818c517a0ebf6873fa01a3


Debian GNU/Linux 5.0 alias lenny
- --------------------------------

Debian (stable)
- ---------------

Stable updates are available for alpha, amd64, arm, armel, hppa, i386, ia64, mips, mipsel, powerpc, s390 and sparc.

Source archives:

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/mysql-ocaml_1.0.4-4+lenny1.dsc
    Size/MD5 checksum:     1912 30bca56e3d5818eaca5bb7fde48fb7c4
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/mysql-ocaml_1.0.4-4+lenny1.diff.gz
    Size/MD5 checksum:     5094 99ca09aea5510a14cd9c89ef3df7db7b
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/mysql-ocaml_1.0.4.orig.tar.gz
    Size/MD5 checksum:   119584 76f1282bb7299012669bf40cde78216b

alpha architecture (DEC Alpha)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_alpha.deb
    Size/MD5 checksum:    42870 8e8dbef7120c2ccfe7f4afc8c651f774
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_alpha.deb
    Size/MD5 checksum:    12474 bc239d611ee379d53d58f3d944e26fc9

amd64 architecture (AMD x86_64 (AMD64))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_amd64.deb
    Size/MD5 checksum:    12120 e1f9170e413ad492963b3ac2b6a16f61
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_amd64.deb
    Size/MD5 checksum:    56758 6fb0e8f0e769fbaa89ea7fe437b07092

arm architecture (ARM)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_arm.deb
    Size/MD5 checksum:    40652 4295ce0a1490f805d73202c0c3d6b2e3
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_arm.deb
    Size/MD5 checksum:    10806 b05ecd665ba9ec10053693a9f1eef6d7

hppa architecture (HP PA RISC)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_hppa.deb
    Size/MD5 checksum:    12252 7f093c8f69af100652d011a5319a126e
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_hppa.deb
    Size/MD5 checksum:    41658 d68829d26c2d5ecd82b097d1afcafd00

i386 architecture (Intel ia32)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_i386.deb
    Size/MD5 checksum:    10878 c881ca9eaed7d094fb06b045a36badcc
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_i386.deb
    Size/MD5 checksum:    55498 7a66df77e3c9bfdb4ec9161df99b2f44

ia64 architecture (Intel ia64)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_ia64.deb
    Size/MD5 checksum:    43270 a590fda7ec241c5adb63e8012d93a6a7
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_ia64.deb
    Size/MD5 checksum:    14436 4adff7114ee2600c6086fb456f349d3b

mips architecture (MIPS (Big Endian))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_mips.deb
    Size/MD5 checksum:    41192 9725b31a8355ecddfe3ac6c724388b8d
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_mips.deb
    Size/MD5 checksum:    11328 ab2c5ce069b593de640e8e27eabc016b

mipsel architecture (MIPS (Little Endian))

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_mipsel.deb
    Size/MD5 checksum:    11322 f7f39aeabc1949645f5bdbb553d595e4
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_mipsel.deb
    Size/MD5 checksum:    41186 83e2b0503b5cc38a3733c5aa76a45c2a

powerpc architecture (PowerPC)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_powerpc.deb
    Size/MD5 checksum:    13948 4f741865f6ad0d5231d210f64f61f449
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_powerpc.deb
    Size/MD5 checksum:    58050 e824b11167cdddee268e065dca840956

s390 architecture (IBM S/390)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_s390.deb
    Size/MD5 checksum:    41336 2fc7ab920f715a357875964cf57412a6
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_s390.deb
    Size/MD5 checksum:    12424 a6c5e84d7791f8f5c9566aa4ae63d01f

sparc architecture (Sun SPARC/UltraSPARC)

  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml_1.0.4-4+lenny1_sparc.deb
    Size/MD5 checksum:    10872 c08d9014b06dee09a59bf8b589e28718
  http://security.debian.org/pool/updates/main/m/mysql-ocaml/libmysql-ocaml-dev_1.0.4-4+lenny1_sparc.deb
    Size/MD5 checksum:    56922 0fa317d9c532db33bb13eea54df1f577


  These files will probably be moved into the stable distribution on
  its next update.

- ---------------------------------------------------------------------------------
For apt-get: deb http://security.debian.org/ stable/updates main
For dpkg-ftp: ftp://security.debian.org/debian-security dists/stable/updates/main
Mailing list: debian-security-announce@...ts.debian.org
Package info: `apt-cache show <pkg>' and http://packages.debian.org/<pkg>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkrWZ+cACgkQ62zWxYk/rQdgvgCglPkog9b6HpCHiSdinSu373if
BdwAnRoX39m2Kn8b/7ksyW5wTjimJlex
=mDyj
-----END PGP SIGNATURE-----

_______________________________________________
Full-Disclosure - We believe in it.
Charter: http://lists.grok.org.uk/full-disclosure-charter.html
Hosted and sponsored by Secunia - http://secunia.com/
