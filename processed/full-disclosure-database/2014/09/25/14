
Date: Thu, 25 Sep 2014 13:06:06 -0700
From: Tim <tim-security@...tinelchicken.org>
To: Evan Teitelman <teitelmanevan@...il.com>
Cc: fulldisclosure@...lists.org
Subject: Re: [FD] Critical bash vulnerability CVE-2014-6271

> dhcpcd is vulnerable.
> 
> root@...ckarch ~ # dhcpcd -4 eth0
> dhcpcd[413]: version 5.6.8 starting
> dhcpcd[413]: eth0: rebinding lease of 192.168.1.2
> dhcpcd[413]: eth0: acknowledged 192.168.1.2 from 192.168.1.1 `() { :;}; echo vulnerable > /TEST'
> dhcpcd[413]: eth0: checking for 192.168.1.2
> ...
> 
> root@...ckarch ~ # cat /TEST
> vulnerable


If you change the default shell from bash to a more sane one[1], like
dash or ash, does this attack disappear?  I would assume so, but 
sometimes foolish packages directly reference /bin/bash in the #!
header.  (I notice some dhclient shell script hooks don't make an
explicit reference at all, while others reference /bin/sh.)

tim


1. Under Debian/Ubuntu, 'sudo apt-get install dash' and saying "yes"
   at the prompt can quickly accomplish this.


_______________________________________________
Sent through the Full Disclosure mailing list
http://nmap.org/mailman/listinfo/fulldisclosure
Web Archives & RSS: http://seclists.org/fulldisclosure/
