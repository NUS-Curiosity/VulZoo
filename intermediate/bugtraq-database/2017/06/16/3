
Date: Fri, 16 Jun 2017 11:01:00 +1000
From: Atlassian <security@...assian.com>
To: bugtraq@...urityfocus.com
Subject: June 2017 - Bamboo - Critical Security Advisory

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

This email refers to the advisory found at
https://confluence.atlassian.com/x/KgwUNg .


CVE ID:

* CVE-2017-8907.


Product: Bamboo.

Affected Bamboo product versions:

5.0.0 <= version < 5.15.7
6.0.0 <= version < 6.0.1


Fixed Bamboo product versions:

* for 5.15.x, Bamboo 5.15.7 has been released with a fix for this issue.
* for 6.0.x, Bamboo 6.0.1 has been released with a fix for this issue.


Summary:
This advisory discloses a critical severity security vulnerability
that was introduced in version 5.0.0 of Bamboo. Versions of Bamboo
starting with 5.0.0 before 5.15.7 (the fixed version for 5.15.x) and
from 6.0.0 before 6.0.1 (the fixed version for 6.0.x) are affected by
this vulnerability.

Cloud instances have already been upgraded to a version of Bamboo that
does not have the issue described in this email.

Customers who have upgraded Bamboo to version 5.15.7 or 6.0.1 are not affected.

Customers who have downloaded and installed Bamboo >= 5.0.0 but less
than 5.15.7 (the fixed version for 5.15.x) or who have downloaded and
installed Bamboo >= 6.0.0 but less than 6.0.1 (the fixed version for
6.0.x) please upgrade your Bamboo installations immediately to fix
this vulnerability.


Incorrect permission check for deployment projects (CVE-2017-8907)

Severity:
Atlassian rates the severity level of this vulnerability as critical,
according to the scale published in our Atlassian severity levels. The
scale allows us to rank the severity as critical, high, moderate or
low.
This is our assessment and you should evaluate its applicability to
your own IT environment.


Description:

Bamboo did not correctly check if a user creating a deployment project
had the edit permission and therefore the rights to do so. An attacker
who can login to Bamboo as a user without the edit permission for
deployment projects is able to use this vulnerability, provided there
is an existing plan with a green build, to create a deployment project
and execute arbitrary code on an available Bamboo Agent. By default a
local agent is enabled this means that code execution can occur on the
system hosting Bamboo as the user running Bamboo.
Versions of Bamboo starting with 5.0.0 before 5.15.7 (the fixed
version for 5.15.x) and from 6.0.0 before 6.0.1 (the fixed version for
6.0.x) are affected by this vulnerability. This issue can be tracked
at: https://jira.atlassian.com/browse/BAM-18405 .


Fix:

To address this issue, we've released the following versions containing a fix:

* Bamboo version 5.15.7
* Bamboo version 6.0.1

Remediation:

Upgrade Bamboo to version 6.0.1 or higher.

The vulnerabilities and fix versions are described above. If affected,
you should upgrade to the latest version immediately.

If you are running Bamboo 5.15.x and cannot upgrade to 6.0.1, upgrade
to version 5.15.7.


For a full description of the latest version of Bamboo, see
the release notes found at
https://confluence.atlassian.com/display/BAMBOO/Bamboo+releases. You
can download the latest version of Bamboo from the download centre
found at https://www.atlassian.com/software/bamboo/download.

Acknowledgements:
Atlassian would like to credit Iordache Cosmin (@inhibitor181) for
reporting this issue to us.

Support:
If you have questions or concerns regarding this advisory, please
raise a support request at https://support.atlassian.com/.

-----BEGIN PGP SIGNATURE-----

iQI0BAEBCgAeBQJZQy1QFxxzZWN1cml0eUBhdGxhc3NpYW4uY29tAAoJECQgl6K8
UnagkuIQAIX5aPb11n1gTXAz1HFFkgBSfFEl/SvjfBVRVlNc6iBBx06t98qwl2LM
2jloGTRaRq9kbA7l3mpgLomEUDD8vX4+h+J5kxg6+XGRmK6ZuK53fFjZRXZslRp1
ZpnYuYmDw9bQZ4tIgcINHnPqAE0Wb+p9PBBRJdNzOY/3NdXkiXureHkpHqQrjABO
OEo/KD8cYesLxfs3otGYyo7UHxXZrHmDjz/UnsS4VSBvhXW3nvHr2SsDnQl+WYO/
aWa/YG2I2M/ZWozYuf8IPhBIvWxGeX+h6vjJ6NGI0OjwyBBe+87M0aOemvbJ09y9
RleMgVpgibH1hyuJZUjjfRjhxxGEEqSnS0yz8SgQdjIBHCfJPbegnKyk2FVTsIzQ
pht5uV/Xm9w/84E+75fD82Ki349QQ7Cff3VdZZctR4kE1+6DS6NwS89avYF9WSCf
k6pE4gxWydnOzKuljv7eIrUzoEMEEGK5OHPud9dpU0RKMCEZdvzIXQptKvKTpbOW
Uk4WX0PCaFw6c1U2UpBgfRngf/fykir9ZprB+v4nm1zjvIYr84s/m/0XyEQ6Rhmt
BFxajxcAPjjTuOAkF4CRXzfLAWkf9D18RJWrD4eCL9H82d7xR3XFg6KZnMTf8qF7
NPQRgUy1XkYaMei9veTfxL6gSdHtPY35r/tZN3gbu0l+MD3w9CEI
=ncNT
-----END PGP SIGNATURE-----
